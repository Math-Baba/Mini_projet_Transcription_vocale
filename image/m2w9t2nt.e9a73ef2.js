(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{113:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.DASHBOARD_LAYOUT="DASHBOARD_LAYOUT",e.PACK_FILES_LAYOUT="PACK_FILES_LAYOUT",e.PACKS_LIST_LAYOUT="PACKS_LIST_LAYOUT",e.CUSTOMIZER_PANEL_SCROLL="CUSTOMIZER_PANEL_SCROLL",e.CUSTOMIZER_PANEL_SCROLL_TOP="CUSTOMIZER_PANEL_SCROLL_TOP",e.CUSTOMIZER_EDIT_PANEL_SCROLL="CUSTOMIZER_EDIT_PANEL_SCROLL",e.CUSTOMIZER_EDIT_PANEL_SCROLL_TOP="CUSTOMIZER_EDIT_PANEL_SCROLL_TOP",e.CUSTOM_PRESET_LIST_CHANGE="CUSTOM_PRESET_LIST_CHANGE",e.SERVER_DOWNLOAD_POPUP="SERVER_DOWNLOAD_POPUP",e.DOWNLOAD_POPUP="DOWNLOAD_POPUP",e.CUSTOMIZER_AI_COMMUNITY_ITEM_DETAl_SCROLL="CUSTOMIZER_AI_COMMUNITY_ITEM_DETAl_SCROLL",e.HIGHLIGHT_AI_SIDEBAR_TAB="HIGHLIGHT_AI_SIDEBAR_TAB",e.CUSTOMIZER_UPLOADS_LIST_SHOULD_REFRESH="CUSTOMIZER_UPLOADS_LIST_SHOULD_REFRESH",e.DESIGN_TEMPLATES_TAB="DESIGN_TEMPLATES_TAB",e.DESIGN_ENGINE_LOADED="DESIGN_ENGINE_LOADED",e.UPDATE_MOCKUP_IMAGE="UPDATE_MOCKUP_IMAGE",e.RIGHT_PANEL_DESIGN_TAB_SCROLL="RIGHT_PANEL_DESIGN_TAB_SCROLL",e.FIGMA_PLUGIN_LAYOUT_SCROLL="FIGMA_PLUGIN_LAYOUT_SCROLL"}(n||(n={}))},124:function(e,t,r){"use strict";var n,o;r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return E})),function(e){e.SET_SHOW_READY_PLAYER_ME_MODAL="SET_SHOW_READY_PLAYER_ME_MODAL"}(n||(n={})),function(e){e.SAVE_RPM_AVATAR="SAVE_RPM_AVATAR"}(o||(o={}));var E="readyplayerme"},127:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(32),o=r(20);function E(){var e=n.b.$engineBridge;return e||o.a.warn("EngineBridge not set yet!"),e}},141:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=null},15:function(e,t,r){"use strict";var n,o,E,c,_,T,O,S,R,I,A,l,f;r.d(t,"m",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return T})),r.d(t,"e",(function(){return O})),r.d(t,"l",(function(){return R})),r.d(t,"i",(function(){return I})),r.d(t,"j",(function(){return A})),r.d(t,"k",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"h",(function(){return D})),r.d(t,"f",(function(){return C})),r.d(t,"g",(function(){return d})),r.d(t,"a",(function(){return N})),function(e){e.CUSTOM="CUSTOM",e.VIDEO="VIDEO",e.FACEBOOK_POST="FACEBOOK_POST",e.INSTAGRAM_POST="INSTAGRAM_POST",e.INSTAGRAM_STORY="INSTAGRAM_STORY",e.FACEBOOK_VIDEO="FACEBOOK_VIDEO",e.TWITTER_POST="TWITTER_POST"}(n||(n={})),function(e){e.ANIMATED="animated",e.STATIC="static"}(o||(o={})),function(e){e.WEBM="webm",e.MP4="mp4"}(E||(E={})),function(e){e.JPG="jpg",e.PNG="png",e.GIF="gif",e.VIDEO="video",e.WEBM="webm",e.MP4="mp4"}(c||(c={})),function(e){e.FBX="FBX",e.GLB="GLB"}(_||(_={})),function(e){e.ALL_ANIMATION_LAYERS="ALL_ANIMATION_LAYERS",e.SINGLE_ANIMATION_LAYER="SINGLE_ANIMATION_LAYER"}(T||(T={})),function(e){e.DEFAULT="default",e.HIGH_QUALITY="high_quality",e.AI_GENERATED="ai_generated"}(O||(O={})),function(e){e.IMAGE="Image",e.VIDEO="Video",e.GIF="GIF",e.FILE="File"}(S||(S={})),function(e){e.INIT="init",e.STARTING="starting",e.STARTED="started",e.DOWNLOAD="download",e.RUNNING="running",e.COMPLETE="complete",e.STITCHING="stitching",e.UPLOAD="upload",e.MERGING="merging",e.THUMBNAIL="thumbnail",e.FINISH="finish",e.CANCELLED="cancelled",e.ERROR="error",e.FAILED="failed",e.REMOVED="removed",e.DONE="finishWithOutDownload"}(R||(R={})),function(e){e.PREPARING="PREPARING",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.DONE="DONE",e.FAILED="FAILED",e.REMOVED="REMOVED"}(I||(I={})),function(e){e.IMAGE="image",e.VIDEO="video",e.GIF="gif",e.THREE_D="3d"}(A||(A={})),function(e){e.PNG="PNG",e.JPEG="JPEG",e.FFMPEG="FFMPEG",e.MP4="MP4",e.GIF="GIF",e.WEBM="WEBM",e.WEBP="WEBP",e.GLB="GLB",e.GLTF="GLTF"}(l||(l={})),function(e){e.FOREGROUND="foreground",e.BACKGROUND="background"}(f||(f={}));var C,d,N,P,D="projectexports";!function(e){e.IS_SERVER_EXPORT_LIMIT_EXCEEDED="isServerExportLimitExceeded"}(C||(C={})),function(e){e.SET_SHOW_EXPORT_MODAL="SET_SHOW_EXPORT_MODAL",e.SET_SHOW_EXPORT_IMAGE_MODAL="SET_SHOW_EXPORT_IMAGE_MODAL",e.SET_EXPORT_VIDEO_MODAL="SET_EXPORT_VIDEO_MODAL",e.SET_EXPORT_GIF_MODAL="SET_EXPORT_GIF_MODAL",e.SET_SHOW_EXPORT_PROJECT_MODAL="SET_SHOW_EXPORT_PROJECT_MODAL",e.SET_EXPORTED_FBX_FILES="SET_EXPORTED_FBX_FILES",e.UPDATE_EXPORT_FBX_FILE="UPDATE_EXPORT_FBX_FILE",e.DELETE_FBX_EXPORT_FILE="DELETE_FBX_EXPORT_FILE",e.SET_IS_EXPORTING_VIDEO="SET_IS_EXPORTING_VIDEO",e.UPDATE_EXPORTING_VIDEO_STATUS="UPDATE_EXPORTING_VIDEO_STATUS",e.SET_VIDEO_EXPORT_PAYLOAD="SET_VIDEO_EXPORT_PAYLOAD",e.SET_EXPORT_MODAL_ACTIVE_TAB="SET_EXPORT_MODAL_ACTIVE_TAB",e.RESET_SERVER_EXPORT_ITEMS="RESET_SERVER_EXPORT_ITEMS",e.SET_EXPORT_ITEMS_FILTER="SET_EXPORT_ITEMS_FILTER",e.ADD_OR_UPDATE_SERVER_EXPORT_ITEM="ADD_OR_UPDATE_SERVER_EXPORT_ITEM",e.REMOVE_SERVER_EXPORT_ITEM="REMOVE_SERVER_EXPORT_ITEM",e.SET_IS_FETCHING_EXPORT_DOWNLOADS="SET_IS_FETCHING_EXPORT_DOWNLOADS",e.SET_EXPORT_DOWNLOADS="SET_EXPORT_DOWNLOADS",e.ADD_OR_UPDATE_EXPORT_DOWNLOAD_ITEM="ADD_OR_UPDATE_EXPORT_DOWNLOAD_ITEM",e.REMOVE_EXPORT_DOWNLOAD_ITEM="REMOVE_EXPORT_DOWNLOAD_ITEM",e.RESET_EXPORT_DOWNLOADS="RESET_EXPORT_DOWNLOADS",e.SET_SELECTED_SERVER_EXPORT_ITEM="SET_SELECTED_SERVER_EXPORT_ITEM",e.SET_SERVER_EXPORT_ITEM_TO_CANCEL="SET_SERVER_EXPORT_ITEM_TO_CANCEL"}(d||(d={})),function(e){e.EXPORT_VIDEO="EXPORT_VIDEO",e.EXPORT_GIF="EXPORT_GIF",e.EXPORT_VIDEO_OR_GIF="EXPORT_VIDEO_OR_GIF",e.EXPORT_IMAGE="EXPORT_IMAGE",e.EXPORT_SELECTED_IMAGE="EXPORT_SELECTED_IMAGE",e.FETCH_FBX_FILES="FETCH_FBX_FILES",e.CANCEL_EXPORT_FBX="CANCEL_EXPORT_FBX",e.DOWNLOAD_FBX_FILE="DOWNLOAD_FBX_FILE",e.SUBSCRIBE_TO_EXPORT_FBX_READY="SUBSCRIBE_TO_EXPORT_FBX_READY",e.EXPORT_FBX="EXPORT_FBX",e.EXPORT_PROJECT="EXPORT_PROJECT",e.CHECK_CAN_EXPORT_3D_FILE="CHECK_CAN_EXPORT_3D_FILE",e.SUBSCRIBE_TO_SERVER_RENDER_PROGRESS="SUBSCRIBE_TO_SERVER_RENDER_PROGRESS",e.SERVER_RENDER="SERVER_RENDER",e.FETCH_EXPORT_DOWNLOADS="FETCH_EXPORT_DOWNLOADS",e.DOWNLOAD_EXPORT_DOWNLOAD="DOWNLOAD_EXPORT_DOWNLOAD",e.DOWNLOAD_AI_GENERATED_FILE="DOWNLOAD_AI_GENERATED_FILE",e.DOWNLOAD_SERVER_RENDER_FILE_BY_RENDER_ID="DOWNLOAD_SERVER_RENDER_FILE_BY_RENDER_ID",e.DELETE_SERVER_RENDER_FILE="DELETE_SERVER_RENDER_FILE",e.RETRY_SERVER_RENDER_EXPORT="RETRY_SERVER_RENDER_EXPORT",e.CANCEL_SERVER_RENDER_EXPORT="CANCEL_SERVER_RENDER_EXPORT",e.EXPORT_IMAGE_WITH_TRANSFORMATION="EXPORT_IMAGE_WITH_TRANSFORMATION",e.EXPORT_AI_STYLED_IMAGE_WITH_TRANSFORMATION="EXPORT_AI_STYLED_IMAGE_WITH_TRANSFORMATION",e.POPULATE_IMAGE_TO_MY_DOWNLOADS="POPULATE_IMAGE_TO_MY_DOWNLOADS",e.PUBLISH_SCENE_TO_COMMUNITY="PUBLISH_SCENE_TO_COMMUNITY",e.PUBLISH_AI_SCENE_TO_COMMUNITY="PUBLISH_AI_SCENE_TO_COMMUNITY",e.COUNT_PROJECT_EXPORT="COUNT_PROJECT_EXPORT",e.POLL_ONGOING_SERVER_EXPORT_STATUS="POLL_ONGOING_SERVER_EXPORT_STATUS",e.REMOVE_IMAGE_BACKGROUND="REMOVE_IMAGE_BACKGROUND",e.POPULATE_DEFAULT_DOWNLOAD_TO_MY_DOWNLOADS="POPULATE_DEFAULT_DOWNLOAD_TO_MY_DOWNLOADS"}(N||(N={})),function(e){e.HARD="hard",e.MEDIUM="medium",e.SOFT="soft"}(P||(P={}))},154:function(e,t,r){"use strict";r(14),r(13);var n=r(4),o=r(3),E=r(5),c=r(6),_=r(2),T=r(1),O=r(0),S=r(214);function R(e){var t=I();return function(){var r,n=Object(_.a)(e);if(t){var s=Object(_.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var A=function(e){Object(E.a)(r,e);var t=R(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).isIntersecting=!1,e}return Object(o.a)(r,[{key:"isIntersectingChange",value:function(e){e&&(this.$refs.video.load(),this.$refs.intersect.observer.disconnect())}}]),r}(O.h);Object(T.a)([Object(O.e)()],A.prototype,"poster",void 0),Object(T.a)([Object(O.e)()],A.prototype,"videoSources",void 0),Object(T.a)([Object(O.i)("isIntersecting",{immediate:!0})],A.prototype,"isIntersectingChange",null);var l=A=Object(T.a)([Object(O.a)({components:{IntersectComponent:S.a}})],A),f=r(8),component=Object(f.a)(l,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("IntersectComponent",{ref:"intersect",on:{leave:function(t){e.isIntersecting=!1},enter:function(t){e.isIntersecting=!0}}},[t("video",{ref:"video",attrs:{poster:e.poster,playsinline:"",autoplay:"",muted:"",loop:""},domProps:{muted:!0}},e._l(e.videoSources,(function(source,i){return t("source",{key:i,attrs:{src:e.isIntersecting?source.src:"",type:source.type}})})),0)])}),[],!1,null,"79d6cdbd",null);t.a=component.exports},16:function(e,t,r){"use strict";var n,o,E,c,_,T,O,S;r.d(t,"j",(function(){return n})),r.d(t,"g",(function(){return o})),r.d(t,"h",(function(){return c})),r.d(t,"i",(function(){return O})),r.d(t,"f",(function(){return C})),r.d(t,"e",(function(){return R})),r.d(t,"a",(function(){return I})),r.d(t,"c",(function(){return A})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return f})),function(e){e.MOBILE="mobile",e.TABLET="tablet",e.DESKTOP="desktop"}(n||(n={})),function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info",e.WARN="warn"}(o||(o={})),function(e){e.UPGRADE_CTA_TEST="UPGRADE_CTA_TEST"}(E||(E={})),function(e){e.ALPHABETICAL="alphabetical",e.OLDEST="oldest",e.RECENT="recent",e.RELEVANCE="relevance",e.PROJECT_STATUS="status"}(c||(c={})),function(e){e.ASC="ASC",e.DESC="DESC"}(_||(_={})),function(e){e.REFRESH="REFRESH",e.REDIRECT="REDIRECT"}(T||(T={})),function(e){e.FREEBIES="FREEBIES",e.DISCOUNT_PROMO="DISCOUNT_PROMO",e.CODE_DISCOUNT_PROMO="CODE_DISCOUNT_PROMO"}(O||(O={})),function(e){e.SCENES="SCENES",e.DESIGN_TEMPLATE="DESIGN_TEMPLATES"}(S||(S={}));var R,I,A,l,f,C="app";!function(e){e.SET_REFRESH_NOTICE="SET_REFRESH_NOTICE",e.SET_NETWORK_STATUS_MODAL="SET_NETWORK_STATUS_MODAL",e.SET_LOADING_STATUS="SET_LOADING_STATUS",e.SET_ENGINE_LOADING_STATUS="SET_ENGINE_LOADING_STATUS",e.SET_IS_WEBSOCKET_CONNECTED="SET_IS_WEBSOCKET_CONNECTED",e.SET_SHOW_APP_SUSPENSE="SET_SHOW_APP_SUSPENSE",e.SET_IS_APP_WINDOW_ACTIVE="SET_IS_APP_WINDOW_ACTIVE",e.SET_IS_RECONNECTING_SOCKET="SET_IS_RECONNECTING_SOCKET",e.SET_IS_LIGHT_MODE="SET_IS_LIGHT_MODE",e.SET_IS_MOBILE_VIEW="SET_IS_MOBILE_VIEW",e.SET_APP_NEWS_BANNER="SET_APP_NEWS_BANNER",e.SET_CONTEXT_MENU="SET_CONTEXT_MENU",e.SET_AB_TESTING="SET_AB_TESTING",e.SET_IS_FETCHING_TOPICS="SET_IS_FETCHING_TOPICS",e.SET_SHOW_OVERLAY_ON_MOBILE_EDITOR="SET_SHOW_OVERLAY_ON_MOBILE_EDITOR",e.UPDATE_TOPICS="UPDATE_TOPICS",e.SET_APP_LOCALE="SET_APP_LOCALE"}(R||(R={})),function(e){e.SET_APP_THEME="SET_APP_THEME",e.SET_APP_LOCALE="SET_APP_LOCALE",e.GET_TOPICS="GET_TOPICS"}(I||(I={})),function(e){e.WATERMARK_FREE="WATERMARK_FREE_RENDERING"}(A||(A={})),function(e){e.CURRENT_PROMOTION="currentPromotion",e.CODE_PROMOTION="codePromotion"}(l||(l={})),function(e){e.EN="en",e.ES="es",e.DE="de",e.BR="br",e.KR="kr",e.JP="jp"}(f||(f={}))},18:function(e,t,r){"use strict";var n;r.d(t,"c",(function(){return n})),r.d(t,"e",(function(){return _})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return E})),r.d(t,"a",(function(){return c})),function(e){e[e.EMAIL_FORM=0]="EMAIL_FORM",e[e.LOGIN_FORM=1]="LOGIN_FORM",e[e.EMAIL_VERIFICATION_FORM=2]="EMAIL_VERIFICATION_FORM",e[e.RESET_PASSWORD_FORM=3]="RESET_PASSWORD_FORM",e[e.RESET_CODE_FORM=4]="RESET_CODE_FORM",e[e.CREATE_ACCOUNT_FORM=5]="CREATE_ACCOUNT_FORM"}(n||(n={}));var o,E,c,_="auth";!function(e){e.IS_AUTHENTICATED="isAuthenticated"}(o||(o={})),function(e){e.STORE="STORE",e.REFRESH="REFRESH",e.LOGOUT="LOGOUT",e.UPDATE_LOGIN_EMAIL="UPDATE_LOGIN_EMAIL",e.UPDATE_RESET_PASSWORD_CODE="UPDATE_RESET_PASSWORD_CODE",e.UPDATE_SUBMIT_STATUS="UPDATE_SUBMIT_STATUS",e.SET_ANONYMOUS_SESSION="SET_ANONYMOUS_SESSION",e.SET_IS_REFRESHING_TOKEN="SET_IS_REFRESHING_TOKEN"}(E||(E={})),function(e){e.REFRESH="REFRESH",e.LOGOUT="LOGOUT",e.RESEND_EMAIL_VERIFICATION="RESEND_EMAIL_VERIFICATION",e.VERIFY_EMAIL="VERIFY_EMAIL",e.CHANGE_PASSWORD="CHANGE_PASSWORD",e.STORE="STORE",e.SIGN_IN="SIGN_IN",e.SIGN_UP="SIGN_UP",e.CHECK_EMAIL_UNIQUENESS="CHECK_EMAIL_UNIQUENESS",e.VALIDATE_REFERRAL_CODE="VALIDATE_REFERRAL_CODE",e.VALIDATE_REFERRAL_EMAIL="VALIDATE_REFERRAL_EMAIL",e.FETCH_INVITED_REFEREE="FETCH_INVITED_REFEREE",e.FETCH_PROMOTIONS="FETCH_PROMOTIONS",e.FORGET_PASSWORD="FORGET_PASSWORD",e.RESET_PASSWORD="RESET_PASSWORD",e.SEND_AUTH_CODE="SEND_AUTH_CODE",e.SYNC_ANONYMOUS_SESSION_WITH_USER="SYNC_ANONYMOUS_SESSION_WITH_USER",e.GRANT_FIGMA_ACCESS="GRANT_FIGMA_ACCESS"}(c||(c={}))},20:function(e,t,r){"use strict";var n=r(32),o={log:function(){},warn:function(){},errorHandler:function(){},error:function(){for(var e=arguments.length,data=new Array(e),t=0;t<e;t++)data[t]=arguments[t];n.b.$captureError(data)},_isEnabled:!1,set isEnabled(e){if(e){var t=console.error;this.log=console.log,this.warn=console.warn,this.error=function(){t.apply(void 0,arguments),n.b.$captureError.apply(n.b,arguments)},this.errorHandler=console.error}else this.log=function(){},this.warn=function(){},this.error=function(){n.b.$captureError.apply(n.b,arguments)},this.errorHandler=function(){};this._isEnabled=e},get isEnabled(){return this._isEnabled}};t.a=o},214:function(e,t,r){"use strict";r(14),r(13);var n=r(4),o=r(3),E=r(5),c=r(6),_=r(2),T=r(1),O=r(0);function S(e){var t=R();return function(){var r,n=Object(_.a)(e);if(t){var s=Object(_.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var I=function(e){Object(E.a)(r,e);var t=S(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).observer=null,e}return Object(o.a)(r,[{key:"render",value:function(){return this.$slots.default?this.$slots.default[0]:null}},{key:"mounted",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting?e.$emit("enter"):e.$emit("leave")}),{threshold:.2,rootMargin:"0px 0px 0px 0px"}),this.$nextTick((function(){e.observer.observe(e.$slots.default[0].elm)}))}},{key:"beforeDestroy",value:function(){this.observer.disconnect()}}]),r}(O.h),A=I=Object(T.a)([Object(O.a)({name:"IntersectComponent"})],I),l=r(8),component=Object(l.a)(A,undefined,undefined,!1,null,null,null);t.a=component.exports},305:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));r(14),r(13);var n=r(3),o=r(4),E=r(306),c=r(5),_=r(6),T=r(2),O=r(339);r(922),r(41);function S(e){var t=R();return function(){var r,n=Object(T.a)(e);if(t){var s=Object(T.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(_.a)(this,r)}}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var I=function(e){Object(c.a)(r,e);var t=S(r);function r(e){var n;return Object(o.a)(this,r),n=t.call(this,e),Object.setPrototypeOf(Object(E.a)(n),(this instanceof r?this.constructor:void 0).prototype),n.name=r.name,n}return Object(n.a)(r)}(Object(O.a)(Error))},312:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(10),o=r(4),E=r(3),c=(r(34),r(40),r(62),r(83),r(28),r(13),r(15)),_=r(18),T=r(80),O=function(){function e(t){Object(o.a)(this,e),e.instance=this,this._store=t}return Object(E.a)(e,[{key:"registerWebWorker",value:function(){var e=this;this._worker=new SharedWorker("/cdn/workers/server-render-status.worker.js"),this._worker.port.onmessage=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:data=r.data,t.t0=data.action,t.next="refreshToken"===t.t0?4:"renderIdCompleted"===t.t0?8:10;break;case 4:return t.next=6,e._store.dispatch("".concat(_.e,"/").concat(_.a.REFRESH),void 0,{root:!0});case 6:return e.sendQueueRenderIdsToWorker(!0),t.abrupt("break",11);case 8:return data.downloaded||setTimeout((function(){T.b.downloadServerRenderFileByRenderId(e._store,{renderId:data.renderId,downloadIfNotDownloadedAlready:!0})}),3e3),t.abrupt("break",11);case 10:console.error("Unhandled event:",data);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this._worker.port.start(),window&&window.addEventListener("beforeunload",this.terminateWorker),this.sendQueueRenderIdsToWorker()}},{key:"sendQueueRenderIdsToWorker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._store.state[c.h].serverExportItems.filter((function(e){return!e.isPreviewFileRender&&e.status===c.i.IN_PROGRESS})).map((function(e){return e.renderId})),r=this._store.state[_.e].idToken;this._worker.port.postMessage({action:"fetchRenderStatus",renderIds:t,idToken:r,isRetry:e})}},{key:"terminateWorker",value:function(){this._worker&&(this._worker.port.postMessage({action:"terminate"}),this._worker=null,window&&window.removeEventListener("beforeunload",this.terminateWorker))}}]),e}()},313:function(e,t,r){"use strict";r.d(t,"b",(function(){return I})),r.d(t,"a",(function(){return l}));r(26),r(23),r(28),r(13),r(29),r(25),r(30);var n=r(9),o=r(10),E=r(4),c=r(3),_=(r(34),r(101)),T=r.n(_),O=r(713);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I,A=T.a.CancelToken;!function(e){e.FETCH_PAGINATED_LIBRARY_ITEMS="FETCH_PAGINATED_LIBRARY_ITEMS",e.FETCH_LIBRARY_ITEM="FETCH_LIBRARY_ITEM",e.FETCH_PAGINATED_PREMADE_PROJECTS="FETCH_PAGINATED_PREMADE_PROJECTS",e.FETCH_PROJECTS="FETCH_PROJECTS"}(I||(I={}));var l=function(){function e(t){Object(E.a)(this,e),this._cancelTokensCache={},this._client=T.a.create(t)}var t;return Object(c.a)(e,[{key:"clientInstance",get:function(){return this._client}},{key:"getUri",value:function(e){return this._client.getUri(e)}},{key:"request",value:function(e){return this._client.request(e)}},{key:"getWithEncrypt",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n){var o,E,c,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t,r,n);case 2:return o=e.sent,E=Object(O.a)(o.data),c=E.encryptKey,_=E.encryptIv,e.abrupt("return",R(R({},o.data),{},{encryptKey:c,encryptIv:_}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"get",value:function(e,t,r){var n;return r&&(n=this._registerCancelToken(r.cancellableRequestPool,r.isCancelPriors)),this._client.get(e,R(R({},t),{},{cancelToken:n}))}},{key:"delete",value:function(e,t){return this._client.delete(e,t)}},{key:"head",value:function(e,t){return this._client.head(e,t)}},{key:"options",value:function(e,t){return this._client.options(e,t)}},{key:"post",value:function(e,data,t){return this._client.post(e,data,t)}},{key:"put",value:function(e,data,t){return this._client.put(e,data,t)}},{key:"patch",value:function(e,data,t){return this._client.patch(e,data,t)}},{key:"_registerCancelToken",value:function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._cancelTokensCache[e]&&r){var n=this._cancelTokensCache[e];null==n||n.cancel("Cancel pre-existing request for ".concat(e," request pool")),delete this._cancelTokensCache[e]}if(this._cancelTokensCache[e]){var o=this._cancelTokensCache[e];t=null==o?void 0:o.token}else{var E=A.source();this._cancelTokensCache[e]=E,t=E.token}return t}}],[{key:"Create",value:function(){return new e}}]),e}()},32:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return T}));var n=r(3),o=r(4),E=r(400),c=Object(n.a)((function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.a)(this,e),this.$mixpanel=null,this.$services=null,this.$widgets=null,this.$engineBridge=null,this.$setUserForErrorTracker=function(){},this.$captureError=function(){},t&&(this.$mixpanel=E.default)})),_=null;function T(e){_=e}},400:function(e,t,r){"use strict";r.r(t);r(26),r(23),r(28),r(13),r(29),r(25),r(30);var n=r(9),o=r(10),E=(r(34),r(342)),c=r.n(E),_=r(216),T=r.n(_),O=r(107);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={},track=c.a.track,A=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n,o){var E,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E=track.bind(this),c=localStorage.getItem(O.d),E(t,R(R({},r),{},{"Utm Origin Source":c}),n,o);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n,o){return e.apply(this,arguments)}}();c.a.track=function(e,t,r,n){null==I[e]&&(I[e]=T()(A.bind(this),200,{leading:!1,trailing:!0})),(0,I[e])(e,t,r,n)},t.default=c.a},426:function(e,t,r){"use strict";var n,o;r.d(t,"a",(function(){return n})),function(e){e.CANVAS="CANVAS",e.CUSTOMIZER_CANVAS="CUSTOMIZER_CANVAS"}(n||(n={})),function(e){e.ASSET_FILE="ASSET_FILE",e.ANIMATION="ANIMATION",e.CUSTOMIZER_ELEMENT="CUSTOMIZER_ELEMENT",e.CUSTOMIZER_UPLOADS="CUSTOMIZER_UPLOADS",e.CUSTOMIZER_AI_RESULTS="CUSTOMIZER_AI_RESULTS"}(o||(o={}))},47:function(e,t,r){"use strict";r.d(t,"d",(function(){return y})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return N}));var n,o,E=r(44),c=r(10),_=r(4),T=r(3),O=(r(34),r(62),r(13),r(131),r(75),r(41),r(122),r(60),r(50),r(23),r(72),r(144),r(64),r(20)),S=(r(99),r(40),r(900),r(182),r(66),r(74),r(194),r(25),r(125)),R=r(423),I=r.n(R),A=r(18),l=r(16);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,a){if(e){if("string"==typeof e)return C(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,E=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw E}}}}function C(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=Array(a);t<a;t++)r[t]=e[t];return r}!function(e){e.SUBSCRIBE_CLONED_PROJECT="SUBSCRIBE_CLONED_PROJECT",e.SUBSCRIBE_STATE_JSON_READY="SUBSCRIBE_STATE_JSON_READY",e.SUBSCRIBE_ACCOUNT_SUBSCRIPTION_CHANGE="SUBSCRIBE_ACCOUNT_SUBSCRIPTION_CHANGE",e.SUBSCRIBE_USER_SESSIONS="SUBSCRIBE_USER_SESSIONS",e.SUBSCRIBE_CREDITS_CHANGE="SUBSCRIBE_CREDITS_CHANGE",e.SUBSCRIBE_REWARDS_CHANGE="SUBSCRIBE_REWARDS_CHANGE",e.SUBSCRIBE_PROJECT_USERS="SUBSCRIBE_PROJECT_USERS",e.SUBSCRIBE_PROJECT_COMMENTS="SUBSCRIBE_PROJECT_COMMENTS",e.SUBSCRIBE_SHARED_PROJECTS="SUBSCRIBE_SHARED_PROJECTS",e.SUBSCRIBE_FBX_EXPORTS="SUBSCRIBE_FBX_EXPORTS",e.SUBSCRIBE_RENDER_PROGRESS="SUBSCRIBE_RENDER_PROGRESS",e.SUBSCRIBE_RENDER_VARIANT_STATUS="SUBSCRIBE_RENDER_VARIANT_STATUS",e.SUBSCRIBE_NOTIFICATIONS_LIST="SUBSCRIBE_NOTIFICATIONS_LIST"}(n||(n={})),function(e){e.NOT_CONNECTED="NOT_CONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e.ERROR="ERROR"}(o||(o={}));var d=function(){function e(){Object(_.a)(this,e),this._rsocketCancelSrcArray=[]}return Object(T.a)(e,[{key:"source",value:function(e){this._rsocketCancelSrcArray.push(e)}},{key:"cancel",value:function(){if(0!=this._rsocketCancelSrcArray.length){var e,t=f(this._rsocketCancelSrcArray);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(e){t.e(e)}finally{t.f()}}else O.a.error("Cannot cancel rsocket request without setting rsocket cancel source")}}]),e}(),N=function(){function e(t){Object(_.a)(this,e),this._recoveryCallbacks=[],this._isPerformingRecovery=!1,this._isReconnected=!0,this._isConnecting=!1,this._connectingCallbacks=[],e.lastInitSocketManager=this,this._store=t}var t,r,n;return Object(T.a)(e,[{key:"isConnected",get:function(){return null!=this._rsocket}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"origin",get:function(){return E.a.ROOT_URL.replace("https://","")}},{key:"token",get:function(){return this._store.state["".concat(A.e)].idToken}},{key:"connect",value:(n=Object(c.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnected){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e,r){var n;t._isConnecting?t._connectingCallbacks.push(e):(O.a.log("start connecting"),t._isConnecting=!0,t._client=t._createClient(),t._client.connect().subscribe({onComplete:function(r){t._rsocket=r,t._store.commit("".concat(l.f,"/").concat(l.e.SET_IS_WEBSOCKET_CONNECTED),!0,{root:!0}),t._rsocket.connectionStatus().subscribe({onNext:function(e){if(O.a.log(e,"connect onNext"),e.kind==o.ERROR||e.kind==o.CLOSED){if(t._rsocket){t._store.commit("".concat(l.f,"/").concat(l.e.SET_IS_WEBSOCKET_CONNECTED),!1,{root:!0});try{t._client.close(),t._rsocket.close()}catch(e){O.a.warn(e,"Encounter error closing reactive socket ")}t._rsocket=null,t._isReconnected=!1}t._store.state[l.f].isAppWindowActive?(O.a.log("Performing new connection attempt from connection status error"),setTimeout(t.connect.bind(t),3e3)):O.a.log("App tab is hidden waiting for visibility change to reconnect")}else e.kind==o.CONNECTED&&(t._isReconnected||t._performRecoveryCallbacks(),t._store.commit("".concat(l.f,"/").concat(l.e.SET_IS_WEBSOCKET_CONNECTED),!0,{root:!0}))},onError:function(e){O.a.error(e,"Encounter connection status error")},onSubscribe:function(sub){return sub.request(Number.MAX_SAFE_INTEGER)}}),e(),t._performConnectingCallbacks(),t._isConnecting=!1,O.a.log("end connecting")},onError:(n=Object(c.a)(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(O.a.warn(n,"Encounter subscribe connect error"),t._rsocket){t._store.commit("".concat(l.f,"/").concat(l.e.SET_IS_WEBSOCKET_CONNECTED),!1,{root:!0});try{t._client.close(),t._rsocket.close()}catch(e){O.a.warn(e,"Encounter error closing reactive socket on subscribe stage")}t._rsocket=null,t._isReconnected=!1}t._isConnecting=!1,t._connectingCallbacks.push(e),setTimeout(t.connect.bind(t),3e3);case 5:case"end":return r.stop()}}),r)}))),function(e){return n.apply(this,arguments)})}))})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"subscribeRequestStream",value:(r=Object(c.a)(regeneratorRuntime.mark((function e(t,data,r,n,o,E){var _,T=this,R=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_=R.length>6&&void 0!==R[6]&&R[6],this.isConnected){e.next=4;break}return e.next=4,this.connect();case 4:return n&&!this._recoveryCallbacks.includes(n)&&this._recoveryCallbacks.push(n),e.abrupt("return",new Promise((function(e,R){var I,l=T.token,f={data:Object(S.toBuffer)(JSON.stringify(data)),metadata:Object(S.toBuffer)(JSON.stringify({token:l,operation:t}))};T._rsocket.requestStream(f).subscribe({onNext:(I=Object(c.a)(regeneratorRuntime.mark((function c(S){var I,l;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(I=JSON.parse(S.data.toString()),O.a.log("---websocket message received--"),O.a.log(t),O.a.log(I),O.a.log("-------------------------------"),!(I.status&&I.status>299)){c.next=15;break}if((l=T._recoveryCallbacks.indexOf(n))>-1&&T._recoveryCallbacks.splice(l,1),401!=I.status||_){c.next=14;break}return c.next=11,T._store.dispatch("".concat(A.e,"/").concat(A.a.REFRESH),void 0,{root:!0});case 11:return c.abrupt("return",e(T.subscribeRequestStream(t,data,r,n,o,E,!0)));case 14:return c.abrupt("return",R(new Error(I.message)));case 15:r(I);case 16:case"end":return c.stop()}}),c)}))),function(e){return I.apply(this,arguments)}),onComplete:function(){O.a.log("requestStream completed: ".concat(t));var r=T._recoveryCallbacks.indexOf(n);r>-1&&T._recoveryCallbacks.splice(r,1),e()},onError:function(e){O.a.log("RECEIVE ERROR from request stream itself (not disconnect error)."),O.a.warn("subscribe Request Stream for ".concat(t),e),o&&o(),R(e)},onSubscribe:function(e){var t=e.cancel,r=e.request;E&&E.source(t),r(2147483647)}})})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n,o,E,c){return r.apply(this,arguments)})},{key:"subscribeRequestResponse",value:(t=Object(c.a)(regeneratorRuntime.mark((function e(t,data,r){var n,o=this,E=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>3&&void 0!==E[3]&&E[3],this.isConnected){e.next=4;break}return e.next=4,this.connect();case 4:return r&&!this._recoveryCallbacks.includes(r)&&this._recoveryCallbacks.push(r),e.abrupt("return",new Promise((function(e,E){var _,T=o.token,R={data:Object(S.toBuffer)(JSON.stringify(data)),metadata:Object(S.toBuffer)(JSON.stringify({token:T,operation:t}))};o._rsocket.requestResponse(R).subscribe({onComplete:(_=Object(c.a)(regeneratorRuntime.mark((function c(_){var T,O;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if((T=o._recoveryCallbacks.indexOf(r))>-1&&o._recoveryCallbacks.splice(T,1),!((O=JSON.parse(_.data.toString())).status&&O.status>299)){c.next=11;break}if(401!=O.status||n){c.next=10;break}return c.next=7,o._store.dispatch("".concat(A.e,"/").concat(A.a.REFRESH),void 0,{root:!0});case 7:return c.abrupt("return",e(o.subscribeRequestResponse(t,data,r,!0)));case 10:return c.abrupt("return",E(new Error(O.message)));case 11:e(O);case 12:case"end":return c.stop()}}),c)}))),function(e){return _.apply(this,arguments)}),onError:function(e){O.a.log("RECEIVE ERROR from request itself (not disconnect error)."),O.a.warn("subscribe Request response for ".concat(t),e),E(e)}})})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_performConnectingCallbacks",value:function(){O.a.log("Perform connect callback for ",this._connectingCallbacks.length," connection"),this._connectingCallbacks.forEach((function(e){e()})),this._connectingCallbacks=[]}},{key:"_performRecoveryCallbacks",value:function(){if(!this._isPerformingRecovery){this._isPerformingRecovery=!0,this._isReconnected=!0,O.a.log("Recovering callbacks for ",this._recoveryCallbacks.length," callback");for(var e=this._recoveryCallbacks.slice();e.length>0;){var t=e.pop(),r=this._recoveryCallbacks.indexOf(t);r>-1&&this._recoveryCallbacks.splice(r,1),t()}this._isPerformingRecovery=!1}}},{key:"_createClient",value:function(){var e=I.a.default||I.a;return new S.RSocketClient({setup:{dataMimeType:"application/octet-stream",keepAlive:3e3,lifetime:1e4,metadataMimeType:"text/plain"},transport:new e({url:"wss://".concat(this.origin,"/api/v1/ws")},S.BufferEncoders)})}}]),e}();function P(time){return new Promise((function(e){return setTimeout(e,time)}))}function D(e){return Object(S.toBuffer)(JSON.stringify(e))}function h(e){switch(e){case n.SUBSCRIBE_CLONED_PROJECT:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,r.srcProjectId,n=r.newProjectId,e.next=3,P(2e3);case 3:return e.abrupt("return",{data:D({message:{newProjectId:n},status:200})});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_STATE_JSON_READY:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_STATE_JSON_READY payload",t),e.next=3,P(1500);case 3:if(r=t.data.projectId,"ERROR"!=window.WEBSOCKET_CONNECTION){e.next=6;break}throw new Error("FAKE DISCONNECT ERROR");case 6:return e.abrupt("return",{data:D({message:{projectId:r},status:200})});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_RENDER_VARIANT_STATUS:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(1500);case 2:if("ERROR"!=window.WEBSOCKET_CONNECTION){e.next=4;break}throw new Error("FAKE DISCONNECT ERROR");case 4:return e.abrupt("return",{data:D({message:{output:[{url:"https://integration-mkinwt.pixcap.com/cdn/library/…29790173_3483b927-784e-4cde-a9dd-dc1f4c98b1b8.png",styleId:"1"},{url:"https://integration-mkinwt.pixcap.com/cdn/categories/beauty.webp",styleId:"2"},{url:"https://integration-mkinwt.pixcap.com/cdn/library/templates/4fc45aea-4104-440d-b11f-79162b78d232/thumbnail/sm_transparent_b2d6cec2-460a-4b6c-bdd6-2a0fba4704e8.png",styleId:"3"},{url:"https://integration-mkinwt.pixcap.com/cdn/library/templates/62c1a01b-434e-4b88-828d-35608c039050/thumbnail/sm_transparent_e7ee5492-b853-48cd-beff-5753fd95f8e6.png",styleId:"4"}]},status:200})});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();default:return O.a.error("No mock support for request response for websocket operation ".concat(e)),null}}function L(e){var t=(new Date).toISOString();switch(e){case n.SUBSCRIBE_NOTIFICATIONS_LIST:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_NOTIFICATIONS_LIST payload",t),e.next=3,P(3e3);case 3:return e.abrupt("return",{data:D({message:{userNotificationId:"3ee36dea-2bfc-4750-a4a8-07a9b32f20d6",notificationType:"USER_STYLE_LIKED",notificationText:"Loved your publish",displayName:"nouman+3",avatarUrl:"https://integration-mkinwt.pixcap.com/cdn/notifications/pixcap.png",notificationIcons:[],displayTime:"2 seconds ago",createdAt:"2023-12-12T11:37:11.973Z"},status:200}),isComplete:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_ACCOUNT_SUBSCRIPTION_CHANGE:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_ACCOUNT_SUBSCRIPTION_CHANGE payload",t),e.next=3,P(3e3);case 3:return e.abrupt("return",{data:D({message:{userId:"USER_ID_001"},status:200}),isComplete:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_USER_SESSIONS:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_USER_SESSIONS payload",t),e.next=3,P(3e3);case 3:return e.abrupt("return",{data:D({message:{userId:"USER_ID_001",sessionId:"SESSION_ID",action:"logout"},status:200}),isComplete:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_CREDITS_CHANGE:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_CREDITS_CHANGE payload",t),e.next=3,P(3e3);case 3:return e.abrupt("return",{data:D({message:{userId:"USER_ID_001"},status:200}),isComplete:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_RENDER_PROGRESS:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_RENDER_PROGRESS payload",t),e.next=3,P(3e3);case 3:return e.abrupt("return",{data:D({progress:{userId:"USER_ID_001",renderId:"RENDER_ID",progress:"10 %",status:"running",fileName:"Mock file"},status:200}),isComplete:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_RENDER_VARIANT_STATUS:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(1500);case 2:if("ERROR"!=window.WEBSOCKET_CONNECTION){e.next=4;break}throw new Error("FAKE DISCONNECT ERROR");case 4:return e.abrupt("return",{data:D({message:{output:[{url:"https://integration-mkinwt.pixcap.com/cdn/library/…29790173_3483b927-784e-4cde-a9dd-dc1f4c98b1b8.png",styleId:"1"},{url:"https://integration-mkinwt.pixcap.com/cdn/categories/beauty.webp",styleId:"2"},{url:"https://integration-mkinwt.pixcap.com/cdn/library/templates/4fc45aea-4104-440d-b11f-79162b78d232/thumbnail/sm_transparent_b2d6cec2-460a-4b6c-bdd6-2a0fba4704e8.png",styleId:"3"},{url:"https://integration-mkinwt.pixcap.com/cdn/library/templates/62c1a01b-434e-4b88-828d-35608c039050/thumbnail/sm_transparent_e7ee5492-b853-48cd-beff-5753fd95f8e6.png",styleId:"4"}]},status:200}),isComplete:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case n.SUBSCRIBE_PROJECT_USERS:for(var r=[],o=["6wdhPe6iTnB","7x6aZmh2JNI","5v5j_lqOHTO","9BUk7hTIGzO",null,null],E=function(i){r.push(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(100);case 2:return e.abrupt("return",{data:D({user:JSON.stringify({projectId:r.data.projectId,userId:"USER_ID_".concat(i),displayName:"DISPLAY_NAME_".concat(i),email:"EMAIL_".concat(i),avatarUrl:o[i]?"https://integration-mkinwt.pixcap.com/cdn/library/thumbnails/poly/".concat(o[i],".webp"):"none",updatedAt:t}),action:"ADD"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},i=0;i<8;i++)E(i);return r.push(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(200);case 2:return e.abrupt("return",{data:D({user:JSON.stringify({projectId:r.data.projectId,userId:"USER_ID_0",email:"EMAIL_0",avatarUrl:"none",updatedAt:t}),action:"REMOVE"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r;case n.SUBSCRIBE_PROJECT_COMMENTS:return[function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(100);case 2:return e.abrupt("return",{data:D({comment:JSON.stringify({author:{displayName:"User socket comment",avatarUrl:"",userId:"USER_ID_HERE"},projectId:"PROJECT_ID",comment:"Here socket comment",commentId:"COMMENT_ID_HERE",threadCount:0,isEdited:!1,isLocked:!1,createdAt:t,updatedAt:t}),action:"Add"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(300);case 2:return e.abrupt("return",{data:D({comment:JSON.stringify({author:{displayName:"User socket comment",avatarUrl:"",userId:"USER_ID_HERE"},projectId:"PROJECT_ID",comment:"Here socket comment reply",parentCommentId:"COMMENT_ID_HERE",commentId:"COMMENT_ID_HERE_REPLY_01",threadCount:0,isEdited:!1,isLocked:!1,createdAt:t,updatedAt:t}),action:"Add"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(400);case 2:return e.abrupt("return",{data:D({comment:JSON.stringify({author:{displayName:"User socket comment",avatarUrl:"",userId:"USER_ID_HERE"},projectId:"PROJECT_ID",comment:"Here socket update me here",commentId:"COMMENT_ID_HERE",threadCount:1,isEdited:!1,isLocked:!1,createdAt:t,updatedAt:t}),action:"Edit"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];case n.SUBSCRIBE_SHARED_PROJECTS:return[function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(500);case 2:return e.abrupt("return",{data:D({project:JSON.stringify({projectId:"SHARED_PROJECT_ID",userId:"SHARED_USER_ID",projectTitle:"Shared socket project",thumbnailFileId:"",thumbnailUrl:"",createdAt:t,updatedAt:t}),action:"ADDED"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(1e3);case 2:return e.abrupt("return",{data:D({project:JSON.stringify({projectId:"cb0553b8-120e-4526-9fa7-4c01a765cf2e",userId:"SHARED_USER_ID",projectTitle:"Shared socket project",thumbnailFileId:"",thumbnailUrl:"",createdAt:t,updatedAt:t}),action:"Removed"}),isComplete:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];case n.SUBSCRIBE_FBX_EXPORTS:return function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("SUBSCRIBE_FBX_EXPORTS payload",t),e.next=3,P(1e3);case 3:return e.abrupt("return",{data:D({exportFbx:JSON.stringify({exportName:"exportName.fbx",exportId:"EXPORT_ID_SOCKET",fbxFileId:null,projectId:"PROJECT_ID",isFailed:!1,errorMessage:null})}),isComplete:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();default:return O.a.error("No mock support for request response for websocket operation ".concat(e)),null}}function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,a){if(e){if("string"==typeof e)return m(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,E=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw E}}}}function m(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=Array(a);t<a;t++)r[t]=e[t];return r}var U,M=function(){function e(){Object(_.a)(this,e)}return Object(T.a)(e,[{key:"connectionStatus",value:function(){return{subscribe:function(e){var t=e.onNext;setInterval((function(){var e=window.WEBSOCKET_CONNECTION||"CONNECTED";if(!U||U!=e)switch(e){case"CLOSED":U="CLOSED";case"ERROR":U="ERROR",t({kind:e});break;default:U="CONNECTED";t({kind:"CONNECTED"})}}),3e3)}}}},{key:"requestStream",value:function(e){var data=JSON.parse(e.data.toString()),t=JSON.parse(e.metadata.toString());return{subscribe:function(e){return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o,E,c,_,T,S,R,I,A;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.onNext,o=e.onSubscribe,E=e.onComplete,e.onError,o({cancel:function(){O.a.log("Cancel performed for request stream of operation: ".concat(t.operation))},request:function(){}}),r.next=8;break;case 8:r.next=16;break;case 12:return r.next=14,E();case 14:r.next=61;break;case 16:if(c=L(t.operation),_={data:data,metadata:t},!Array.isArray(c)){r.next=48;break}T=v(c),r.prev=20,T.s();case 22:if((S=T.n()).done){r.next=38;break}return R=S.value,r.next=26,R(_);case 26:if(!(I=r.sent).isComplete){r.next=34;break}return r.next=30,n(I);case 30:return r.next=32,E();case 32:r.next=36;break;case 34:return r.next=36,n(I);case 36:r.next=22;break;case 38:r.next=43;break;case 40:r.prev=40,r.t0=r.catch(20),T.e(r.t0);case 43:return r.prev=43,T.f(),r.finish(43);case 46:r.next=60;break;case 48:return r.next=50,c(_);case 50:if(!(A=r.sent).isComplete){r.next=58;break}return r.next=54,n(A);case 54:return r.next=56,E();case 56:r.next=60;break;case 58:return r.next=60,n(A);case 60:false;case 61:case"end":return r.stop()}}),r,null,[[20,40,43,46]])})))()}}}},{key:"requestResponse",value:function(e){var data=JSON.parse(e.data.toString()),t=JSON.parse(e.metadata.toString());return{subscribe:function(e){return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o,E,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.onComplete,e.onError,r.next=6;break;case 6:r.next=12;break;case 10:r.next=19;break;case 12:return o=h(t.operation),E={data:data,metadata:t},r.next=16,o(E);case 16:return c=r.sent,r.next=19,n(c);case 19:case"end":return r.stop()}}),r)})))()}}}},{key:"close",value:function(){}}]),e}(),k=function(){function e(){Object(_.a)(this,e)}return Object(T.a)(e,[{key:"connect",value:function(){return{subscribe:function(e){var t=e.onComplete;e.onError;t(new M)}}}},{key:"close",value:function(){}}]),e}();function y(e){if(N.lastInitSocketManager)return N.lastInitSocketManager;var t=new N(e);return E.a.IS_LOCAL_APP_ENV&&(t._createClient=function(){return new k}),t}},52:function(e,t,r){"use strict";r.r(t),r.d(t,"$notify",(function(){return n})),r.d(t,"setNotifyFnc",(function(){return o}));var n=function(param){};function o(e){n=e}},69:function(e,t,r){"use strict";var n,o;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),function(e){e.CANVAS="3D_VIEWPORT",e.ASSETS_MANAGER="ASSETS_MANAGER",e.CURVE_EDITOR="CURVE_EDITOR",e.INSPECTOR="INSPECTOR",e.PICKERS="PICKERS",e.LAYERS="LAYERS",e.SCENE_TREE="SCENE_TREE",e.RETARGETING="RETARGETING",e.IK="IK",e.DEFAULT="DEFAULT",e.ASSETS_ANIMATIONS_TAB="ASSETS_ANIMATIONS_TAB",e.ASSETS_FILES_TAB="ASSETS_FILES_TAB"}(n||(n={})),function(e){e.MOUSE_DOWN="mousedown",e.RESIZE="resize",e.WHEEL="wheel",e.MOUSE_UP="mouseup",e.BLUR="blur",e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.PASTE="paste"}(o||(o={}))},7:function(e,t,r){"use strict";r.d(t,"j",(function(){return h})),r.d(t,"i",(function(){return L})),r.d(t,"u",(function(){return n})),r.d(t,"e",(function(){return c})),r.d(t,"n",(function(){return _})),r.d(t,"l",(function(){return T})),r.d(t,"c",(function(){return O})),r.d(t,"f",(function(){return S})),r.d(t,"r",(function(){return I})),r.d(t,"t",(function(){return A})),r.d(t,"m",(function(){return l})),r.d(t,"o",(function(){return f})),r.d(t,"b",(function(){return C})),r.d(t,"p",(function(){return d})),r.d(t,"q",(function(){return N})),r.d(t,"k",(function(){return P})),r.d(t,"s",(function(){return D})),r.d(t,"h",(function(){return M})),r.d(t,"d",(function(){return v})),r.d(t,"g",(function(){return m})),r.d(t,"a",(function(){return U}));var n,o,E,c,_,T,O,S,R,I,A,l,f,C,d,N,P,D,h=new Date("2024-10-22T00:00:00Z"),L="NewSignUp10";!function(e){e.CONTRIBUTOR="CONTRIBUTOR",e.REVIEWER="REVIEWER"}(n||(n={})),function(e){e.ELEMENTS="elements",e.MATERIALS="materials",e.AI_STYLE="aiStyle",e.PRESET="preset",e.EDUCATE_EXPORT="educateExport",e.UPDATE_MOCKUP_IMAGE="useMockup",e.SHOW_COMPARISON_MODAL="comparisonModal"}(o||(o={})),function(e){e.NEW_TAB="NEW_TAB",e.CURRENT_TAB="CURRENT_TAB"}(E||(E={})),function(e){e.DEFAULT_DOWNLOAD="DEFAULT_DOWNLOAD",e.HQ_IMAGE_DOWNLOAD="HQ_IMAGE_DOWNLOAD",e.HQ_VIDEO_DOWNLOAD="HQ_VIDEO_DOWNLOAD",e.AI_USAGE="AI_USAGE",e.EXPORT_3D="EXPORT_3D"}(c||(c={})),function(e){e.MONTHLY="Monthly",e.ANNUALLY="Annually"}(_||(_={})),function(e){e.SUCCESS="complete",e.CANCEL="cancelled"}(T||(T={})),function(e){e.SHOW_FOR_PRICING="SHOW_FOR_PRICING",e.DEFAULT="DEFAULT"}(O||(O={})),function(e){e.ACCOUNT_SETTINGS="Account settings",e.INVITE_FRIENDS="Invite friends",e.SUBSCRIPTION="Subscription",e.PROMOTIONS="Promotions",e.CHANGE_PASSWORD="Change Password",e.EMAIL_NOTIFICATIONS="Email Notifications"}(S||(S={})),function(e){e.SYSTEM_NEW_FEATURE_RELEASED="SYSTEM_NEW_FEATURE_RELEASED",e.USER_STYLE_LIKED="USER_STYLE_LIKED",e.SYSTEM_PACK_PUBLISHED="SYSTEM_PACK_PUBLISHED",e.SYSTEM_TEMPLATE_PUBLISHED="SYSTEM_TEMPLATE_PUBLISHED",e.SYSTEM_PROJECT_NOT_EXPORTED="SYSTEM_PROJECT_NOT_EXPORTED"}(R||(R={})),function(e){e.TOP_UP_CREDITS="TOP_UP_CREDITS",e.USE_PRO_ITEM="USE_PRO_ITEM",e.USE_PREMIUM_FEATURE="USE_PREMIUM_FEATURE",e.ADD_FAST_SUPER_DOWNLOAD="ADD_FAST_SUPER_DOWNLOAD",e.ACCESS_PREMIUM_PROJECT="ACCESS_PREMIUM_PROJECT",e.GET_MORE_AI_USAGE="GET_MORE_AI_USAGE",e.GET_MORE_HQ_VIDEO_DOWNLOAD="GET_MORE_HQ_VIDEO_DOWNLOAD",e.DOWNLOAD_GLB="DOWNLOAD_GLB",e.USE_REMOVE_WATERMARK="USE_REMOVE_WATERMARK",e.HIT_USAGE_LIMIT_DEFAULT_DOWNLOAD="HIT_USAGE_LIMIT_DEFAULT_DOWNLOAD",e.HIT_USAGE_LIMIT_HQ_IMAGE_DOWNLOAD="HIT_USAGE_LIMIT_HQ_IMAGE_DOWNLOAD",e.HIT_USAGE_LIMIT_HQ_VIDEO_DOWNLOAD="HIT_USAGE_LIMIT_HQ_VIDEO_DOWNLOAD",e.HIT_USAGE_LIMIT_AI="HIT_USAGE_LIMIT_AI",e.PRO_TO_ELITE="PRO_TO_ELITE"}(I||(I={})),function(e){e.PRO_GET_MORE_LIMITS="Get more limits",e.AI_STYLIST_EXCEED_LIMIT="AI Stylist  Exceed Limit",e.RECHARGE_CREDITS="Recharge Credits",e.DOWNLOAD_EXCEED_LIMIT="Download Exceed Limit",e.GLB_DOWNLOAD="GLB Download",e.HIGH_QUALITY_DOWNLOAD="4K Download",e.REMOVE_BACKGROUND="Remove background",e.REMOVE_WATERMARK="Remove watermark",e.FASTER_RENDER="Faster render",e.ACCESS_PREMIUM_PROJECT="Access Premium Project",e.LIMIT_USAGE_DEFAULT_DOWNLOAD="Out of default download limit",e.LIMIT_USAGE_HQ_IMAGE_DOWNLOAD="Out of hq image download limit",e.LIMIT_USAGE_HQ_VIDEO_DOWNLOAD="Out of hq video download limit"}(A||(A={})),function(e){e.STRIPE="STRIPE",e.PAYPAL="PAYPAL",e.XENDIT="XENDIT",e.TAZAPAY="TAZAPAY",e.PADDLE="PADDLE"}(l||(l={})),function(e){e.REFEREE="referee",e.REFERRAL="referral"}(f||(f={})),function(e){e.PACK="PACK",e.ITEM="ITEM"}(C||(C={})),function(e){e.BASIC="BASIC",e.PRO_MONTHLY="PRO_MONTHLY",e.PRO_QUARTERLY="PRO_QUARTERLY",e.PRO_ANNUALLY="PRO_ANNUALLY",e.ELITE_MONTHLY="ELITE_MONTHLY",e.ELITE_QUARTERLY="ELITE_QUARTERLY",e.ELITE_ANNUALLY="ELITE_ANNUALLY"}(d||(d={})),function(e){e.BASIC="BASIC",e.PROFESSIONAL="PROFESSIONAL",e.ELITE="ELITE",e.ENTERPRISE="ENTERPRISE"}(N||(N={})),function(e){e.ACTIVE="ACTIVE",e.CANCELLED="CANCELLED",e.PAYMENT_ACTION_REQUIRED="PAYMENT_ACTION_REQUIRED",e.PAYMENT_REQUIRES_METHOD="PAYMENT_REQUIRES_METHOD",e.FREE_TRIAL="FREE_TRIAL",e.FREE_TRIAL_CANCELLED="FREE_TRIAL_CANCELLED",e.PENDING_RENEWAL="PENDING_RENEWAL"}(P||(P={})),function(e){e.ALL="ALL",e.DOWNLOADS="DOWNLOADS",e.EVENTS="EVENTS",e.NEWSLETTERS="NEWSLETTERS",e.REMINDERS="REMINDERS",e.COMMENTS="COMMENTS",e.THREAD="THREAD",e.MENTION_REPLY="MENTION_REPLY",e.PROJECT_INVITATION="PROJECT_INVITATION",e.ACCEPTED_INVITATION="ACCEPTED_INVITATION"}(D||(D={}));var v,m,U,M="user";!function(e){e.USER_ID="userId",e.GET_PRICING_FOR_USER="getPricingForUser",e.OVERRIDING_PRICING_COUNTRY_CODE="overridingPricingCountryCode",e.SHOW_MY_ACCOUNT_MODAL="showMyAccountModal",e.SUBSCRIPTION_TEXT="subscriptionText",e.IS_PRO="isPro",e.IS_ELITE="isElite",e.IS_PRO_OR_ABOVE="isProOrAbove",e.IS_ELITE_OR_ABOVE="isEliteOrAbove",e.HAS_NO_UPGRADE_OPTION="hasNoUpgradeOption",e.IS_SUBSCRIBED_WITH_STRIPE="isSubscribedWithStripe",e.IS_SUBSCRIBED_WITH_PAYPAL="isSubscribedWithPaypal",e.IS_SUBSCRIBED_WITH_XENDIT="isSubscribedWithXendit",e.IS_SUBSCRIBED_WITH_TAZAPAY="isSubscribedWithTazapay",e.IS_SUBSCRIBED_WITH_PADDLE="isSubscribedWithPaddle",e.IS_FREE_TRIAL_AVAILABLE="isFreeTrialAvailable",e.IS_FREE_TRIAL_ACTIVE="isFreeTrialActive",e.IS_CANCELED_SUBSCRIPTION="isCanceledSubscription",e.SHOW_FREE_TRIAL_PAYMENT_INFO="showFreeTrialPaymentInfo",e.IS_UNSUBSCRIBED_USER="isUnsubscribedUser",e.IS_CONTRIBUTOR="isContributor",e.IS_REVIEWER="isReviewer",e.IS_NEW_COMER="isNewComer"}(v||(v={})),function(e){e.SET_USER_ID="SET_USER_ID",e.UPDATE_PERSONAL_DATA="UPDATE_PERSONAL_DATA",e.UPDATE_USER_AVATAR="UPDATE_USER_AVATAR",e.UPDATE_SHOW_PIXRENDER_POPUP="UPDATE_SHOW_PIXRENDER_POPUP",e.UPDATE_USER_ONBOARDING="UPDATE_USER_ONBOARDING",e.UPDATE_USER_AI_ATTEMPTED="UPDATE_USER_AI_ATTEMPTED",e.UPDATE_IMPORT_TEMPLATE_OPTION="UPDATE_IMPORT_TEMPLATE_OPTION",e.UPDATE_PROJECT_COUNT="UPDATE_PROJECT_COUNT",e.TOGGLE_UPGRADE_MODAL="TOGGLE_UPGRADE_MODAL",e.TOGGLE_NO_AUTH_MODAL="TOGGLE_NO_AUTH_MODAL",e.TOGGLE_RESET_PASSWORD_MODAL="TOGGLE_RESET_PASSWORD_MODAL",e.SET_SUBSCRIPTION_INFO="SET_SUBSCRIPTION_INFO",e.SET_REFERRALS_INFO="SET_REFERRALS_INFO",e.SET_USER_NOTIFICATIONS="SET_USER_NOTIFICATIONS",e.PUSH_USER_NOTIFICATIONS="PUSH_USER_NOTIFICATIONS",e.TOGGLE_CANCEL_PLAN_MODAL="TOGGLE_CANCEL_PLAN_MODAL",e.TOGGLE_ACCOUNT_SETTING_MODAL="TOGGLE_ACCOUNT_SETTING_MODAL",e.SET_ACTIVE_MY_ACCOUNT_TAB="SET_ACTIVE_MY_ACCOUNT_TAB",e.UPDATE_BIO="UPDATE_BIO",e.UPDATE_DISPLAY_NAME="UPDATE_DISPLAY_NAME",e.UPDATE_PAYMENT_STATUS="UPDATE_PAYMENT_STATUS",e.UPDATE_PROJECT_LIKES="UPDATE_PROJECT_LIKES",e.TOGGLE_CROPP_AVATAR_MODAL="TOGGLE_CROPP_AVATAR_MODAL",e.SHOW_PORTAL_PAYMENT_STATUS_MODAL="SHOW_PORTAL_PAYMENT_STATUS_MODAL",e.SET_IS_LOADING_USER_INFO="SET_IS_LOADING_USER_INFO",e.SET_UPGRADE_MODAL_STATE="SET_UPGRADE_MODAL_STATE",e.SET_TOP_UP_LIMITS_MODAL_STATE="SET_TOP_UP_LIMITS_MODAL_STATE",e.SET_TOPPED_CREDITS_QUANTITY_FOR_PAYMENT="SET_TOPPED_CREDITS_QUANTITY_FOR_PAYMENT",e.SET_SHOW_CONTACT_MODAL="SET_SHOW_CONTACT_MODAL",e.SET_SHOW_REFERRAL_MODAL="SET_SHOW_REFERRAL_MODAL",e.SET_SHOW_REFERRAL_POPOVER_MODAL="SET_SHOW_REFERRAL_POPOVER_MODAL",e.SET_IS_SENDING_MESSAGE="SET_IS_SENDING_MESSAGE",e.SET_EMAIL_NOTIFICATIONS="SET_EMAIL_NOTIFICATIONS",e.SET_SELECTED_SUBSCRIPTION_FOR_PAYMENT="SET_SELECTED_SUBSCRIPTION_FOR_PAYMENT",e.SET_SHOW_ATTRIBUTION_EXPORT_MODAL="SET_SHOW_ATTRIBUTION_EXPORT_MODAL",e.SET_USER_COUNTRY="SET_USER_COUNTRY",e.DEDUCT_LIMITS="DEDUCT_LIMITS",e.SET_IS_FETCHING_CART_ITEMS="SET_IS_FETCHING_CART_ITEMS",e.SET_CART_ITEMS="SET_CART_ITEMS",e.SET_CART_ITEMS_ID="SET_CART_ITEMS_ID",e.ADD_CART_ITEMS_ID="ADD_CART_ITEMS_ID",e.REMOVE_CART_ITEMS_ID="REMOVE_CART_ITEMS_ID",e.CLEAR_CART_ITEMS="CLEAR_CART_ITEMS",e.SET_SHOW_CART_PAYMENT_METHOD_MODAL="SET_SHOW_CART_PAYMENT_METHOD_MODAL",e.SET_SHOW_CART_PAYMENT_STATUS_POPOVER_MODAL="SET_SHOW_CART_PAYMENT_STATUS_POPOVER_MODAL",e.SET_IS_FETCHING_PURCHASE_ITEMS="SET_IS_FETCHING_PURCHASE_ITEMS",e.SET_PURCHASED_ITEMS="SET_PURCHASED_ITEMS",e.SET_PURCHASED_ITEMS_FILTER="SET_PURCHASED_ITEMS_FILTER",e.RESET_PURCHASED_ITEMS="RESET_PURCHASED_ITEMS",e.SET_TEMPORARY_USER_PURCHASED_HISTORY="SET_TEMPORARY_USER_PURCHASED_HISTORY"}(m||(m={})),function(e){e.FETCH_USER_INFO="FETCH_USER_INFO",e.FETCH_PERSONAL_DATA="FETCH_PERSONAL_DATA",e.FETCH_SUBSCRIPTION="FETCH_SUBSCRIPTION",e.FETCH_CREDITS="FETCH_CREDITS",e.FETCH_REFERRALS_INFO="FETCH_REFERRALS_INFO",e.FETCH_COUNTRY_CODE="FETCH_COUNTRY_CODE",e.FETCH_NOTIFICATIONS="FETCH_NOTIFICATIONS",e.SUBCRIBE_NOTIFICATIONS="SUBCRIBE_NOTIFICATIONS",e.SUBSCRIBE_ACCOUNT_SUBSCRIPTION_CHANGE="SUBSCRIBE_ACCOUNT_SUBSCRIPTION_CHANGE",e.SUBSCRIBE_USER_SESSIONS="SUBSCRIBE_USER_SESSIONS",e.SUBSCRIBE_CREDITS_CHANGE="SUBSCRIBE_CREDITS_CHANGE",e.SUBSCRIBE_REWARDS_CHANGE="SUBSCRIBE_REWARDS_CHANGE",e.CHANGE_AVATAR="CHANGE_AVATAR",e.FETCH_TUTORIALS="FETCH_TUTORIALS",e.UPDATE_PERSONAL_DATA="UPDATE_PERSONAL_DATA",e.RENEW_SUBSCRIPTION="RENEW_SUBSCRIPTION",e.CANCEL_SUBSCRIPTION="CANCEL_SUBSCRIPTION",e.ADD_CANCEL_SUBSCRIPTION_REASON="ADD_CANCEL_SUBSCRIPTION_REASON",e.FETCH_SUBSCRIPTION_PAYMENT_PORTAL="FETCH_SUBSCRIPTION_PAYMENT_PORTAL",e.FETCH_CUSTOMER_PORTAL="FETCH_CUSTOMER_PORTAL",e.FETCH_INVOICES_PORTAL="FETCH_INVOICES_PORTAL",e.FETCH_TOP_UP_CREDITS_PORTAL="FETCH_TOP_UP_CREDITS_PORTAL",e.FETCH_CART_CHECKOUT_PORTAL="FETCH_CART_CHECKOUT_PORTAL",e.CONTACT_US="CONTACT_US",e.FETCH_EMAIL_NOTIFICATIONS="FETCH_EMAIL_NOTIFICATIONS",e.UPDATE_EMAIL_NOTIFICATION="UPDATE_EMAIL_NOTIFICATION",e.FETCH_CART_ITEMS="FETCH_CART_ITEMS",e.FETCH_PURCHASED_ITEMS="FETCH_PURCHASED_ITEMS",e.FETCH_PRESIGNED_PURCHASED_ITEM="FETCH_PRESIGNED_PURCHASED_ITEM"}(U||(U={}))},716:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));r(14),r(26),r(23),r(28),r(29),r(30);var n=r(10),o=r(9),E=r(4),c=r(3),_=r(5),T=r(6),O=r(2),S=(r(34),r(40),r(13),r(25),r(285),r(62),r(60),r(64),r(133),r(101)),R=r.n(S),I=r(313),A=r(18),l=r(97),f=r(42),C=r(52),d=r(20),N=r(16),P=r(44),D=r(59),h=r(96),L=r(54),v=r(717);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){var t=M();return function(){var r,n=Object(O.a)(e);if(t){var s=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(T.a)(this,r)}}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var k=function(e){Object(_.a)(T,e);var t,r=U(T);function T(e,t){var n,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(E.a)(this,T),n=r.call(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({baseURL:e.baseURL,headers:{"Content-Type":"application/json"},withCredentials:!0},c)),n._isConnectedToNetwork=!0,n._retryRequestsQueue=[],n._refreshTokenQueue=[],n.isClientEnv=!1,n.isClientEnv=e.isClient,n._store=t,n.isClientEnv&&(P.a.IS_LOCAL_APP_ENV||(n._isConnectedToNetwork=window.navigator.onLine),n.registerConnectionStatusListener()),n._initNetworkStatusInterceptor(),n._initAuthInterceptor(),n._initLocaleInterceptor(),n._initResponseDurationInterceptor(),n._initCancelTokenErrorInterceptor(),n._initErrorInterceptor(),n}return Object(c.a)(T,[{key:"isAuthenticated",get:function(){return this._store.getters["".concat(A.e,"/").concat(A.b.IS_AUTHENTICATED)]}},{key:"hasAccessToken",get:function(){return!this.isClientEnv||null!=Object(D.d)(document.cookie,h.d)}},{key:"projectEndpointBasePath",get:function(){return this.isAuthenticated?"project":"anonymous_project"}},{key:"refreshToken",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){r._refreshTokenPromise=r._store.dispatch("".concat(A.e,"/").concat(A.a.REFRESH),void 0,{root:!0}),r._refreshTokenPromise.then((function(t){r._refreshTokenPromise=null,r._retryRefreshTokenRequests(!1),e(t)})),t&&r._refreshTokenPromise.then((function(){var e=r._store.state["".concat(A.e)].idToken;return e&&(t.headers.Authorization="Bearer "+e),r._client.request(t)})),r._refreshTokenPromise.catch(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.b.logout(r._store);case 2:window.location.href=P.a.LOGIN_URL;case 3:case"end":return e.stop()}}),e)}))))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"_retryOfflineRequests",value:function(){this._retryRequestsQueue.forEach((function(e){var t=e.config;(0,e.resolve)(t)})),this._retryRequestsQueue=[]}},{key:"_retryRefreshTokenRequests",value:function(e){this._refreshTokenQueue.forEach((function(t){var r=t.resolve,n=t.reject;e?n():r()})),this._refreshTokenQueue=[]}},{key:"_initAuthInterceptor",value:function(){var e=this,t=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var o,E,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("GET"!==r.method.toUpperCase()||!r.url.startsWith(f.a.BLOG_PATH)){t.next=2;break}return t.abrupt("return",r);case 2:if(!e._refreshTokenPromise||r.url=="".concat(f.a.AUTH_PATH,"/refresh")){t.next=6;break}return o=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e._refreshTokenQueue.push({resolve:t,reject:r})})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=6,o();case 6:return E=e._store.state["".concat(A.e)],(c=E.idToken)&&(null==r.headers&&(r.headers={}),r.headers.Authorization="Bearer "+c),t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this._client.interceptors.request.use(t)}},{key:"_initNetworkStatusInterceptor",value:function(){var e=this;this._client.interceptors.request.use((function(t){return null==t.requestRetries&&(t.requestRetries=3),e._isConnectedToNetwork?t:new Promise((function(r){e._retryRequestsQueue.push({config:t,resolve:r})}))}))}},{key:"_initResponseDurationInterceptor",value:function(){this._client.interceptors.request.use((function(e){return e.metadata={startTime:new Date},e}));this._client.interceptors.response.use((function(e){return e.duration=(new Date).getTime()-e.config.metadata.startTime.getTime(),e}))}},{key:"_initCancelTokenErrorInterceptor",value:function(){this._client.interceptors.response.use((function(e){return e}),(function(e){if(!R.a.isCancel(e))return Promise.reject(e)}))}},{key:"_initErrorInterceptor",value:function(){var e=this,t=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var o,E,c,_,T,O,S,R,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E=!r.response,c=E?r:r.response,_=r.config,T=function(e){return new Promise((function(t){return setTimeout(t,e)}))},O=r.response&&401!=r.response.status&&r.response.status<500,!(_.requestRetries>0)||O){t.next=30;break}if(_.requestRetries-=1,!E){t.next=16;break}if(r.config.skipNetworkErrorInterceptor){t.next=14;break}return d.a.log("retrying request"),d.a.log(new Date),t.next=13,T(300);case 13:return t.abrupt("return",e._client.request(_));case 14:t.next=30;break;case 16:if(!e.hasAccessToken||401!==r.response.status||_._isRetry||_.url=="".concat(f.a.AUTH_PATH,"/refresh")){t.next=30;break}if(_._isRetry=!0,!e._refreshTokenPromise){t.next=28;break}return S=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=setInterval((function(){null==e._refreshTokenPromise&&(t(!1),clearInterval(n))}),r)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=22,S(300);case 22:return R=e._store.state["".concat(A.e)],(I=R.idToken)&&(_.headers.Authorization="Bearer "+I),t.abrupt("return",e._client.request(_));case 28:e.refreshToken(_);case 29:return t.abrupt("return",e._refreshTokenPromise);case 30:return(null===(o=r.response)||void 0===o?void 0:o.status)>=500&&!r.config.skipErrorNotification&&Object(C.$notify)({type:N.g.ERROR,title:"Something went wrong. Please try again and help us report the problem in feedback."}),t.abrupt("return",Promise.reject(c));case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this._client.interceptors.response.use((function(e){return e}),t)}},{key:"_initLocaleInterceptor",value:function(){var e=this;this._client.interceptors.request.use((function(t){if("GET"===t.method.toUpperCase()&&t.url.startsWith(f.a.ASSETMANAGER_PATH)){var r,n=e._store.state["".concat(N.f)];t.params=t.params||{};var o=null!==(r=n.locale)&&void 0!==r?r:v.a;d.a.log("request: ".concat(t.url," locale: ").concat(o)),t.params instanceof URLSearchParams?t.params.append("lang",o):t.params.lang=o}return t}))}},{key:"registerConnectionStatusListener",value:function(){var e=this;P.a.IS_LOCAL_APP_ENV||(window.addEventListener("online",(function(){e._isConnectedToNetwork=!0,e._retryOfflineRequests(),l.d.setNetworkStatusModal(e._store,{showModal:!0,networkConnected:!0})})),window.addEventListener("offline",(function(){e._isConnectedToNetwork=!1,l.d.setNetworkStatusModal(e._store,{showModal:!0,networkConnected:!1})})))}}]),T}(I.a)},735:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(3),o=r(4),E=(r(23),r(28),r(29),r(25),r(30),r(9)),c=r(10),_=(r(34),r(26),r(22),r(13),r(60),r(64),r(75),r(83),r(42)),T=r(854),O=r(101),S=r.n(O),R=r(305);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(){function e(t){Object(o.a)(this,e),this.sessionUserId=void 0,this._appContext=null,this._appContext=t}var t;return Object(n.a)(e,[{key:"defaultParams",get:function(){return this.sessionUserId?{userId:this.sessionUserId}:{}}},{key:"multipartUpload",value:(t=Object(c.a)(regeneratorRuntime.mark((function e(t,r,n,o,E){var c,O,I,l,f,C,d,N,P,D,h,L,v,m,U,M,k,y,B,w,F,G,H,j,x,W=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=W.length>5&&void 0!==W[5]&&W[5],O=this._appContext.store.$httpClient,I=t.size,l=Object(T.a)(),f=55e5,C="application/octet-stream",n&&(n.key&&(l=n.key),n.partSize&&(f=n.partSize),n.contentType&&(C=n.contentType)),0!=(d=Math.ceil(I/f))){e.next=10;break}throw new R.a("Detected 0 parts to upload.");case 10:return N=_.a.ASSETMANAGER_PATH,P=A({key:l,numberOfParts:d,type:r,contentType:C,metadata:null!=n&&n.metadata?JSON.stringify(n.metadata):void 0},this.defaultParams),e.next=14,O.get("".concat(N,"/multipart/init"),{cancelToken:o,skipErrorNotification:c,params:P});case 14:D=e.sent,h=D.data,L=h.uploadId,v=h.presignedUrlsParts,m=[],U=Object.keys(v),delete(M=S.a.create({transformRequest:[function(data,e){return delete e["Content-Type"],data}]})).defaults.headers.common["Content-Type"],delete M.defaults.headers.put["Content-Type"],k=100/(U.length||1),y=new Array(U.length).fill(0),B=function(){if(E){var progress=y.reduce((function(a,b){return a+b}),0);E(progress)}},w=regeneratorRuntime.mark((function e(){var r,n,o,E,c,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=G[F],n=v[r],o=parseInt(r),E=o*f,c=(o+1)*f,_=o<U.length?t.slice(E,c):t.slice(E),m.push(M.put(n,_,{onUploadProgress:function(e){var progress=Math.floor(e.loaded/e.total*k);y[o]=progress,B()}}));case 7:case"end":return e.stop()}}),e)})),F=0,G=U;case 26:if(!(F<G.length)){e.next=31;break}return e.delegateYield(w(),"t0",28);case 28:F++,e.next=26;break;case 31:return e.next=33,Promise.all(m);case 33:return H=e.sent,j=H.map((function(e,t){return{etag:e.headers.etag,partNumber:t+1}})),x=A({key:l,uploadId:L,parts:j},this.defaultParams),e.next=38,O.post("".concat(N,"/multipart/complete"),x,{cancelToken:o,skipErrorNotification:c,params:{type:r}});case 38:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o,E){return t.apply(this,arguments)})}]),e}(),f=new(function(){function e(){Object(o.a)(this,e)}return Object(n.a)(e,[{key:"write",value:function(e,data){localStorage.setItem(e,JSON.stringify(data))}},{key:"read",value:function(e){var data=localStorage.getItem(e);return JSON.parse(data)}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"writeSession",value:function(e,data){sessionStorage.setItem(e,JSON.stringify(data))}},{key:"readSession",value:function(e){var data=sessionStorage.getItem(e);return JSON.parse(data)}},{key:"removeSession",value:function(e){sessionStorage.removeItem(e)}}]),e}()),C=function(){function e(){Object(o.a)(this,e),this.onAuthenticated=void 0}return Object(n.a)(e,[{key:"setOnAuthenticated",value:function(e){this.onAuthenticated=e}},{key:"getOnAuthenticated",value:function(){return this.onAuthenticated}}]),e}(),d=(r(62),r(15));function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var P=[{start:0,end:50,duration:5e3},{start:50,end:80,duration:1e4},{start:80,end:90,duration:3e4},{start:90,end:97,duration:15e3}],D=function(){function e(){Object(o.a)(this,e),this._serverExportItems={},this.averageMinuteVideoExportDuration=120,this._stepsCallbacksMap=[this._handleProgressIntervalPart1Callback,this._handleProgressIntervalPart2Callback,this._handleProgressIntervalPart3Callback,this._handleProgressIntervalPart4Callback]}return Object(n.a)(e,[{key:"addOrUpdateServerExportItem",value:function(e,t){var r,n=e.renderId;if(e.status!=d.i.IN_PROGRESS&&e.status!=d.i.PREPARING)return e.progress=100,null!=(null===(r=this._serverExportItems[n])||void 0===r?void 0:r.progressTimout)&&clearTimeout(this._serverExportItems[n].progressTimout),void t(e);if(this._serverExportItems[n])e.progress=this._serverExportItems[n].progress,this._serverExportItems[n].serverItemInfo=e,this._serverExportItems[n].updateProgressCallback=t;else{var progress=e.progress,o=progress>=50?1:0;this._serverExportItems[n]={serverItemInfo:e,progress:progress>=50?50:0,step:progress>=50?1:0,progressTimout:null,updateProgressCallback:t,stepsInfo:this._calculateStepsInfo(e)},this._serverExportItems[n].serverItemInfo.progress=this._serverExportItems[n].progress,this._stepsCallbacksMap[o].call(this,n)}}},{key:"updateRenderIdForExportItem",value:function(e,t){clearTimeout(this._serverExportItems[e].progressTimout),this._serverExportItems[t]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this._serverExportItems[e]),this._serverExportItems[t].serverItemInfo.renderId=t,this._stepsCallbacksMap[this._serverExportItems[e].step].call(this,t)}},{key:"removeServerExportItem",value:function(e){var t=this._serverExportItems[e];t.progressTimout&&clearTimeout(t.progressTimout),delete this._serverExportItems[e]}},{key:"_handleProgressIntervalPart1Callback",value:function(e){var t=this;this._serverExportItems[e].step=0,this._serverExportItems[e].updateProgressCallback(this._serverExportItems[e].serverItemInfo);var r=this._serverExportItems[e].stepsInfo[0]||P[0],n=r.duration/(r.end-r.start);this._serverExportItems[e].progressTimout=setTimeout((function(){t._handleProgressTimeoutCallback(e,r.end,n,t._handleProgressIntervalPart2Callback)}),n)}},{key:"_handleProgressIntervalPart2Callback",value:function(e){var t=this;this._serverExportItems[e].step=1,this._serverExportItems[e].updateProgressCallback(this._serverExportItems[e].serverItemInfo);var r=this._serverExportItems[e].stepsInfo[1]||P[1],n=r.duration/(r.end-r.start);this._serverExportItems[e].progressTimout=setTimeout((function(){t._handleProgressTimeoutCallback(e,r.end,n,t._handleProgressIntervalPart3Callback)}),n)}},{key:"_handleProgressIntervalPart3Callback",value:function(e){var t=this;this._serverExportItems[e].step=2,this._serverExportItems[e].updateProgressCallback(this._serverExportItems[e].serverItemInfo);var r=this._serverExportItems[e].stepsInfo[2]||P[2],n=r.duration/(r.end-r.start);this._serverExportItems[e].progressTimout=setTimeout((function(){t._handleProgressTimeoutCallback(e,r.end,n,t._handleProgressIntervalPart4Callback)}),n)}},{key:"_handleProgressIntervalPart4Callback",value:function(e){var t=this;this._serverExportItems[e].step=3,this._serverExportItems[e].updateProgressCallback(this._serverExportItems[e].serverItemInfo);var r=this._serverExportItems[e].stepsInfo[3]||P[3],n=r.duration/(r.end-r.start);this._serverExportItems[e].progressTimout=setTimeout((function(){t._handleProgressTimeoutCallback(e,r.end,n,null)}),n)}},{key:"_handleProgressTimeoutCallback",value:function(e,t,r,n){var o=this;this._serverExportItems[e].progress+=1,this._serverExportItems[e].serverItemInfo.progress=this._serverExportItems[e].progress,this._serverExportItems[e].progress>t?n?n.call(this,e):(clearTimeout(this._serverExportItems[e].progressTimout),this._serverExportItems[e].progressTimout=null):(this._serverExportItems[e].updateProgressCallback(this._serverExportItems[e].serverItemInfo),this._serverExportItems[e].progressTimout=setTimeout((function(){o._handleProgressTimeoutCallback(e,t,r,n)}),r))}},{key:"_calculateStepsInfo",value:function(e){if(e.exportType==d.j.IMAGE)return P;var t=(e.animationDuration||5)*this.averageMinuteVideoExportDuration;return[{start:0,end:50,duration:t/12*1e3},{start:50,end:80,duration:t/6*1e3},{start:80,end:90,duration:t/2*1e3},{start:90,end:97,duration:t/4*1e3}]}}]),e}(),h=Object(n.a)((function e(t){Object(o.a)(this,e),this.cacheUrlsManager=null,this.localStorageManager=null,this.multiUploadService=null,this.authService=null,this.serverRenderProgressSimulator=null,this.localStorageManager=f,this.multiUploadService=new l(t),this.authService=new C,this.serverRenderProgressSimulator=new D}))},81:function(e,t,r){"use strict";r.d(t,"c",(function(){return E})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));var n,o,E="survey";!function(e){e.SET_IS_LOADING_SURVEY="SET_IS_LOADING_SURVEY",e.SET_SHOW_ONBOARDING_MODAL="SET_SHOW_ONBOARDING_MODAL",e.SET_QUESTIONS_LIST="SET_QUESTIONS_LIST"}(n||(n={})),function(e){e.GET_SURVEY_DATA="GET_SURVEY_DATA",e.SUBMIT_SURVEY_ANSWERS="SUBMIT_SURVEY_ANSWERS"}(o||(o={}))},852:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n,o=r(10),E=r(4),c=r(3),_=(r(34),r(286),r(50),r(99),r(372),r(13),r(373),r(374),r(375),r(376),r(377),r(378),r(379),r(380),r(381),r(382),r(383),r(384),r(385),r(386),r(387),r(388),r(389),r(390),r(391),r(392),r(393),r(394),r(395),r(396),r(41),r(62),r(40),r(7)),T=r(234),O=r(44),S=r(20);!function(e){e.DUPLICATE_PROJECT="DUPLICATE_PROJECT",e.SURVEY_COMPLETED="SURVEY_COMPLETED",e.LOGOUT_EVENT="LOGOUT_EVENT"}(n||(n={}));var R=r(42).a.NOTIFICATIONS_PATH,I=function(){function e(t,r){var c=this,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(E.a)(this,e),this._appRouter=null,this._appRouter=t,this._store=r,"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",(function(e){switch(e.data.action){case n.DUPLICATE_PROJECT:c._duplicateEditorProjectEventCallback(e.data);break;case n.LOGOUT_EVENT:c._logoutAllSessions();break;case n.SURVEY_COMPLETED:c._closeSurveyModal()}})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/cdn/workers/service-worker.js",{scope:_?"/cdn/workers/":"/"}).then((function(e){S.a.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){S.a.log("ServiceWorker registration failed: ",e)})),"PushManager"in window&&Notification.requestPermission((function(e){"granted"===e?(navigator.serviceWorker.register("/cdn/workers/webpush.worker.js",{scope:"/"}).then((function(e){S.a.log("WebPush service worker registered with scope:",e.scope)})),navigator.serviceWorker.ready.then((function(e){e.pushManager.getSubscription().then((function(t){function n(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$httpClient.post("".concat(R,"/subscription"),t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(t)n(t);else{e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(){for(var e=O.a.WEBPUSH_VAPID_KEY,t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}()}).then((function(e){S.a.log("User is subscribed.",e),n(e)}))}}))}))):S.a.log("Notification permission denied.")}))})))}return Object(c.a)(e,[{key:"_duplicateEditorProjectEventCallback",value:function(data){var e=this._appRouter,t=data.checkEditorProject;if(null!=t&&t.editorPageId!=sessionStorage.editorPageId&&"Editor"==e.currentRoute.name){var r=t.activeProject;e.currentRoute.params.projectUUID==r&&setTimeout((function(){window.location.href=window.location.origin}),3e3)}}},{key:"_logoutAllSessions",value:function(){this._appRouter.currentRoute.meta.isPublicRoute?this._store.commit("".concat(_.h,"/").concat(_.g.UPDATE_PERSONAL_DATA),void 0,{root:!0}):window.location.href=O.a.LOGIN_URL}},{key:"_closeSurveyModal",value:function(){T.c.setShowOnboardingModal(this._store,!1)}},{key:"postSurveyCompletedMessage",value:function(){var e={action:n.SURVEY_COMPLETED};navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}},{key:"postLogoutMessage",value:function(){var e={action:n.LOGOUT_EVENT};this._logoutAllSessions(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}},{key:"postEditorMountedMessage",value:function(e,t){var r={action:n.DUPLICATE_PROJECT,checkEditorProject:{activeProject:e,editorPageId:t}};navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(r)}}]),e}()},90:function(e,t,r){"use strict";r(14),r(13),r(26),r(23),r(28),r(29),r(25),r(30);var n=r(9),o=r(4),E=r(3),c=r(5),_=r(6),T=r(2),O=r(1),S=r(0),R=r(17),I=r(18),A=r(24);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=d();return function(){var r,n=Object(T.a)(e);if(t){var s=Object(T.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(_.a)(this,r)}}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var N=function(e){Object(c.a)(r,e);var t=C(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"showAuthenticationModal",value:function(){A.e.showAuthenticationModal(this.$store,!0)}}]),r}(S.h);N=Object(O.a)([Object(S.a)({name:"AuthenticationModalMixin",computed:f(f({},Object(R.c)(I.e,{isRefreshingToken:function(e){return e.isRefreshingToken}})),Object(R.b)(I.e,{isAuthenticated:I.b.IS_AUTHENTICATED}))})],N),t.a=N}}]);
//# sourceMappingURL=m2w9t2nt.e9a73ef2.js.map