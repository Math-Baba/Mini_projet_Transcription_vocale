(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1039:function(t,e,n){"use strict";n(574)},1041:function(t,e,n){"use strict";n(576)},1042:function(t,e,n){"use strict";n(577)},1073:function(t,e,n){"use strict";n(608)},1106:function(t,e,n){"use strict";n(639)},1121:function(t,e,n){"use strict";n(654)},1130:function(t,e,n){"use strict";n(663)},1131:function(t,e,n){"use strict";n(664)},1132:function(t,e,n){"use strict";n(665)},1140:function(t,e,n){"use strict";n(673)},1150:function(t,e,n){"use strict";n(683)},1156:function(t,e,n){"use strict";n(689)},223:function(t,e,n){"use strict";n(14),n(13);var o=n(3),r=n(4),c=n(5),l=n(6),d=n(2),h=n(1),v=n(0);function f(t){var e=m();return function(){var n,o=Object(d.a)(t);if(e){var s=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}var O=function(t){Object(c.a)(n,t);var e=f(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n)}(v.h),y=O=Object(h.a)([Object(v.a)({name:"ThumbnailOnlyLoader"})],O),_=(n(1039),n(8)),component=Object(_.a)(y,(function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)}),[function(){var t=this._self._c;this._self._setupProxy;return t("div",{staticClass:"library-file-loader"},[t("div",{staticClass:"thumbnail-container"},[t("div",{staticClass:"thumbnail-loader loading-state-animation"})])])}],!1,null,"7da66bba",null);e.a=component.exports},232:function(t,e,n){"use strict";n(14),n(13),n(26),n(23),n(28),n(29),n(25),n(30);var o=n(9),r=n(3),c=n(4),l=n(5),d=n(6),h=n(2),v=n(1),f=n(0),m=n(39),O=n(100),y=n(7),_=n(17);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){var e=C();return function(){var n,o=Object(h.a)(t);if(e){var s=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C=function(){return!!t})()}var x=function(t){Object(l.a)(n,t);var e=w(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n)}(f.h);Object(v.a)([Object(f.e)({default:!0})],x.prototype,"rounded",void 0),Object(v.a)([Object(f.e)({default:!1})],x.prototype,"isPurchased",void 0),x=Object(v.a)([Object(f.a)({name:"ProItemTag",components:{IconCrown:O.a,CaptionText:m.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(_.b)(y.h,{isProOrAbove:y.d.IS_PRO_OR_ABOVE}))})],x);var k=x,M=(n(1041),n(8)),component=Object(M.a)(k,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:t.$t?t.$t("common_elements.premium"):"Premium",expression:"$t ? $t('common_elements.premium') : 'Premium'",modifiers:{left:!0}}],staticClass:"pro-item-tag flex align-center justify-center gap-6 border-radius-4",class:{"pro-item-tag--rounded":t.rounded}},[e("IconCrown",{attrs:{width:13,fill:(t.isPurchased,"#fff")}})],1)}),[],!1,null,"66338298",null);e.a=component.exports},336:function(t,e,n){"use strict";n(14),n(13);var o=n(4),r=n(3),c=n(5),l=n(6),d=n(2),h=(n(41),n(75),n(1)),v=n(0);function f(t){var e=m();return function(){var n,o=Object(d.a)(t);if(e){var s=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}var O=function(t){Object(c.a)(n,t);var e=f(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"classes",get:function(){var t="avatar";return this.variant&&(t+=" avatar--".concat(this.variant)),t}},{key:"avatarUrl",get:function(){return this.user.avatarUrl}},{key:"firstLetter",get:function(){return this.user.name?this.user.name.slice(0,1).toUpperCase():""}}]),n}(v.h);Object(h.a)([Object(v.e)()],O.prototype,"user",void 0),Object(h.a)([Object(v.e)()],O.prototype,"variant",void 0);var y=O=Object(h.a)([Object(v.a)({name:"Avatar"})],O),_=(n(1121),n(8)),component=Object(_.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.classes},[t.avatarUrl?e("img",{attrs:{src:t.avatarUrl}}):e("span",{staticClass:"avatar-placeholder"},[t._v("\n\t\t"+t._s(t.firstLetter)+"\n\t")])])}),[],!1,null,"59cdc933",null);e.a=component.exports},574:function(t,e,n){t.exports={}},576:function(t,e,n){t.exports={}},577:function(t,e,n){t.exports={}},608:function(t,e,n){t.exports={}},639:function(t,e,n){t.exports={}},654:function(t,e,n){t.exports={}},663:function(t,e,n){t.exports={}},664:function(t,e,n){t.exports={}},665:function(t,e,n){t.exports={}},673:function(t,e,n){t.exports={}},683:function(t,e,n){t.exports={}},689:function(t,e,n){t.exports={}},701:function(t,e,n){"use strict";n(14),n(13);var o=n(3),r=n(4),c=n(5),l=n(6),d=n(2),h=n(1),v=n(0);function f(t){var e=m();return function(){var n,o=Object(d.a)(t);if(e){var s=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}var O=function(t){Object(c.a)(n,t);var e=f(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n)}(v.h),y=O=Object(h.a)([Object(v.a)({name:"LibraryListHeaderLoader"})],O),_=(n(1073),n(8)),component=Object(_.a)(y,(function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"pack-loader--details"},[e("div",{staticClass:"loading-state-animation"}),t._v(" "),e("div",{staticClass:"loading-state-animation"}),t._v(" "),e("div",{staticClass:"loading-state-animation"})])}],!1,null,"dc6718b2",null);e.a=component.exports},738:function(t,e,n){"use strict";n(41),n(14),n(13),n(23),n(28),n(29),n(25),n(30);var o=n(9),r=n(4),c=n(3),l=n(5),d=n(6),h=n(2),v=(n(26),n(1)),f=n(0),m=n(17),O=n(7),y=n(24),_=n(136),j=n(118),w=n(173),C=n(302),x=n(95);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t){var e=E();return function(){var n,o=Object(h.a)(t);if(e){var s=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}var P=function(t){Object(l.a)(n,t);var e=I(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="",t.email="",t.message="",t.errorMsg={},t}return Object(c.a)(n,[{key:"onNameChange",value:function(t){this.updateError("name",""!=t,this.$t?this.$t("navbar.contact_us_form.error_name"):"**Name cannot be empty")}},{key:"onEmailChange",value:function(t){this.updateError("email",Object(_.a)(t),this.$t?this.$t("navbar.contact_us_form.error_email"):"**Email is invalid")}},{key:"disableSubmit",get:function(){return!(this.name&&this.email&&this.message&&0===Object.keys(this.errorMsg).length&&!this.isSendingMessage)}},{key:"updateError",value:function(t,e,n){var r=this.errorMsg;if(e){var c=M({},r);delete c[t],this.errorMsg=c}else this.errorMsg=M(M({},r),{},Object(o.a)({},t,n))}},{key:"resetTabIndex",value:function(t){t.preventDefault(),this.$refs.refContactUsForm.getElementsByTagName("input")[0].focus()}},{key:"postMessageRequest",value:function(){this.disableSubmit||y.b.contactUS(this.$store,{name:this.name,email:this.email,message:this.message,isCustomPricing:this.showContactModal===O.c.SHOW_FOR_PRICING})}},{key:"handleCloseModal",value:function(){y.e.setShowContactModal(this.$store,null)}}]),n}(f.h);Object(v.a)([Object(f.i)("name")],P.prototype,"onNameChange",null),Object(v.a)([Object(f.i)("email")],P.prototype,"onEmailChange",null);var R=P=Object(v.a)([Object(f.a)({name:"ContactModal",components:{Modal:j.a,InputWrapper:w.a,EditableTextarea:C.a,Button:x.a},computed:M({},Object(m.c)(O.h,{isSendingMessage:function(t){return t.isSendingMessage},showContactModal:function(t){return t.showContactModal}}))})],P),S=(n(1130),n(8)),component=Object(S.a)(R,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Modal",{staticClass:"contact-modal-container",attrs:{width:430,height:485,padding:20,styleModal:{height:"max-content"}},on:{closeModal:t.handleCloseModal}},[e("h2",{staticClass:"modal-form-title"},[t._v(t._s(t.$t?t.$t("navbar.contact_us_form.contact_us"):"Contact us"))]),t._v(" "),e("form",{ref:"refContactUsForm",staticClass:"contact-form",on:{submit:function(e){return e.preventDefault(),t.postMessageRequest.apply(null,arguments)}}},[e("InputWrapper",{attrs:{"error-msg":t.errorMsg.name,variant:"dark",type:"text",label:t.$t?t.$t("navbar.contact_us_form.name"):"Name",placeholder:t.$t?t.$t("navbar.contact_us_form.enter_your_name"):"Enter your name"},on:{enter:t.postMessageRequest},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),e("InputWrapper",{attrs:{"error-msg":t.errorMsg.email,variant:"dark",type:"email",label:t.$t?t.$t("navbar.contact_us_form.email"):"Email",placeholder:t.$t?t.$t("navbar.contact_us_form.enter_your_email"):"Enter your Email"},on:{enter:t.postMessageRequest},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),e("EditableTextarea",{staticClass:"contact-message",attrs:{label:t.$t?t.$t("navbar.contact_us_form.message"):"Your message",placeholder:t.$t?t.$t("navbar.contact_us_form.write_message"):"Write your message here"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),e("Button",{staticClass:"btn-submit-contact",attrs:{disabled:t.disableSubmit,loading:t.isSendingMessage&&"Please wait ...","btn-style":"primary",width:"100%","button-type":"submit","btn-text":t.$t?t.$t("navbar.contact_us_form.send"):"Send message"},on:{handleClick:t.postMessageRequest}})],1)])}),[],!1,null,"232102fe",null);e.a=component.exports},739:function(t,e,n){"use strict";n(14),n(13);var o=n(4),r=n(3),c=n(5),l=n(6),d=n(2),h=n(1),v=n(0),f=n(16),m=n(301),O=n(787),y=n(70),_=n(211),j=n(321);function w(t){var e=C();return function(){var n,o=Object(d.a)(t);if(e){var s=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C=function(){return!!t})()}var x=function(t){Object(c.a)(n,t);var e=w(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).NotificationType=f.g,t}return Object(r.a)(n,[{key:"notificationClickableClass",value:function(data){return data&&data.callback?"notification__content--click":""}},{key:"handleClickNotificationTitle",value:function(t,data){data&&data.callback&&"function"==typeof data.callback&&(t.stopPropagation(),t.preventDefault(),data.callback())}}]),n}(v.h),k=x=Object(h.a)([Object(v.a)({name:"Notification",components:{IconClose:y.a,IconCircleCheck:m.a,IconInfo:_.a,IconCircleClose:O.a,IconWarning:j.a}})],x),M=(n(1131),n(8)),component=Object(M.a)(k,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("notifications",{attrs:{width:"100%",speed:600,"animation-name":"v-fade-right","ignore-duplicates":!0,duration:-1},scopedSlots:t._u([{key:"body",fn:function(n){var o=n.item,r=n.close;return[e("div",{class:"notification notification--".concat(o.type)},[e("div",{staticClass:"notification__content",class:t.notificationClickableClass(o.data),on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.handleClickNotificationTitle(e,o.data))}}},[e("div",{staticClass:"notification__content__title"},[t._v("\n\t\t\t\t\t"+t._s(o.title)+"\n\t\t\t\t\t"),e("span",{staticClass:"notification__content__title__icon"},[o.type===t.NotificationType.SUCCESS?e("IconCircleCheck",{attrs:{width:18,fill:"#1BC663"}}):t._e(),t._v(" "),o.type===t.NotificationType.INFO?e("IconInfo",{attrs:{width:18,fill:"#00ACEE"}}):t._e(),t._v(" "),o.type===t.NotificationType.WARN?e("IconWarning",{attrs:{width:18,fill:"#FFD260"}}):t._e(),t._v(" "),o.type===t.NotificationType.ERROR?e("IconCircleClose",{attrs:{width:18,fill:"#EC1846"}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"notification__content__text"},[o.text?[t._v("\n\t\t\t\t\t\t"+t._s(o.text)+"\n\t\t\t\t\t")]:o.data&&o.data.component?e(o.data.component,{tag:"component",attrs:{data:o.data},on:{close:r}}):t._e()],2)]),t._v(" "),o.data&&o.data.close?t._e():e("button",{staticClass:"notification__close",on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),r.apply(null,arguments))}}},[e("IconClose",{attrs:{width:10}})],1)])]}}])})}),[],!1,null,"23bdadb6",null);e.a=component.exports},740:function(t,e,n){"use strict";n(14),n(13),n(26),n(23),n(28),n(29),n(25),n(30);var o=n(9),r=n(4),c=n(3),l=n(5),d=n(6),h=n(2),v=(n(62),n(1)),f=n(0),m=n(16),O=n(97),y=n(17);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function j(t){var e=w();return function(){var n,o=Object(h.a)(t);if(e){var s=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w=function(){return!!t})()}var C=function(t){Object(l.a)(n,t);var e=j(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"showModal",get:function(){return this.networkStatusModal&&this.networkStatusModal.showModal}},{key:"networkDisconnected",get:function(){return this.networkStatusModal&&!this.networkStatusModal.networkConnected}},{key:"onNetworkDisconnected",value:function(t){var e=this;t||setTimeout((function(){O.d.setNetworkStatusModal(e.$store,null)}),1e3)}}]),n}(f.h);Object(v.a)([Object(f.i)("networkDisconnected")],C.prototype,"onNetworkDisconnected",null),C=Object(v.a)([Object(f.a)({name:"NetworkStatusModal",computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(y.c)(m.f,{networkStatusModal:function(t){return t.networkStatusModal}}))})],C);var x=C,k=(n(1132),n(8)),component=Object(k.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.showModal?e("div",{staticClass:"backdrop"},[t.networkDisconnected?e("div",{staticClass:"message message--error"},[e("div",{staticClass:"message__title"},[t._v("Your internet disconnected")]),t._v(" "),e("div",{staticClass:"message__text"},[t._v("Trying to reconnect...")])]):e("div",{staticClass:"message message--success"},[e("div",{staticClass:"message__title"},[t._v("Pixcap has reconnected")]),t._v(" "),e("div",{staticClass:"message__text"},[t._v("Your latest changes has been saved.")])])]):t._e()}),[],!1,null,"2d2a719e",null);e.a=component.exports},749:function(t,e,n){"use strict";n(14),n(26),n(23),n(28),n(29),n(25),n(30);var o=n(9),r=n(4),c=n(3),l=n(5),d=n(6),h=n(2),v=(n(103),n(13),n(1)),f=n(0),m=n(17),O=n(15),y=n(80),_=n(65),j=n(38),w=n(21);function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){var e=k();return function(){var n,o=Object(h.a)(t);if(e){var s=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(k=function(){return!!t})()}var M=function(t){Object(l.a)(n,t);var e=x(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"isCancelExportItemGif",get:function(){var t,e=this,n=null===(t=this.serverExportItems)||void 0===t?void 0:t.find((function(t){return t.renderId===e.serverExportItemToCancel}));return(null==n?void 0:n.exportType)===O.j.GIF}},{key:"handleCancelItem",value:function(){y.b.cancelServerRenderExport(this.$store,{renderId:this.serverExportItemToCancel,shouldRemove:!1}),this.selectedServerExportItem==this.serverExportItemToCancel&&y.e.setSelectedServerExportItem(this.$store,null),this.hnadleClose()}},{key:"hnadleClose",value:function(){y.e.setServerExportItemToCancel(this.$store,null)}}]),n}(f.h);M=Object(v.a)([Object(f.a)({name:"CancelServerExportModal",components:{BaseModal:_.a,Button:j.a,BodyText:w.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(m.c)(O.h,{serverExportItemToCancel:function(t){return t.serverExportItemToCancel},selectedServerExportItem:function(t){return t.selectedServerExportItem},serverExportItems:function(t){return t.serverExportItems}}))})],M);var I=M,E=(n(1150),n(8)),component=Object(E.a)(I,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("BaseModal",{attrs:{"class-name":"cancel-server-export-modal"}},[e("BodyText",{staticClass:"text-color-danger-5",attrs:{weight:"semibold",size:"large","tag-name":"div"}},[t._v("\n\t\t"+t._s(t.$t?t.$t("navbar.download_dropdown.cancel_download_modal.cancel_download"):"Cancel High-Quality Download")+"?\n\t")]),t._v(" "),e("BodyText",{staticClass:"text-color-neutral-9 mt-s mb-m",attrs:{size:"small","tag-name":"div"}},[t.isCancelExportItemGif?[t._v("\n\t\t\t"+t._s(t.$t?t.$t("navbar.download_dropdown.cancel_download_modal.text_gif"):"You will lose the balance used for this GIF. Are you sure you want to proceed?")+"\n\t\t")]:[t._v("\n\t\t\t"+t._s(t.$t?t.$t("navbar.download_dropdown.cancel_download_modal.text"):"You will lose the balance used for this video. Are you sure you want to proceed?")+"\n\t\t")]],2),t._v(" "),e("div",{staticClass:"flex justify-end pt-xs gap-6"},[e("Button",{attrs:{size:"small",color:"neutral",variant:"text","text-weight":"normal"},nativeOn:{click:function(e){return t.hnadleClose.apply(null,arguments)}}},[t._v("\n\t\t\t"+t._s(t.$t?t.$t("common_elements.cancel"):"Cancel")+"\n\t\t")]),t._v(" "),e("Button",{attrs:{size:"small",color:"danger"},nativeOn:{click:function(e){return t.handleCancelItem.apply(null,arguments)}}},[t._v("\n\t\t\t"+t._s(t.$t?t.$t("navbar.download_dropdown.cancel_download_modal.confirm"):"Confirm")+"\n\t\t")])],1)],1)}),[],!1,null,"0f8b96bd",null);e.a=component.exports},789:function(t,e,n){"use strict";n(14),n(26),n(23),n(29),n(25),n(30);var o=n(9),r=n(10),c=n(4),l=n(3),d=n(5),h=n(6),v=n(2),f=(n(34),n(28),n(13),n(60),n(64),n(283),n(133),n(66),n(74),n(40),n(1)),m=n(0),O=n(17),y=n(318),_=n(224),j=n(21),w=n(70),C=n(93),x=n(100),k=n(38),M=n(39),I=n(128),E=n(324),P=n(326),R=n(24),S=n(7),T=n(80),D=n(44);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function L(t){var e=$();return function(){var n,o=Object(v.a)(t);if(e){var s=Object(v.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($=function(){return!!t})()}var z=".png",U=".jpg",A=function(t){Object(d.a)(m,t);var e,n,o,h,v,f=L(m);function m(){var t;return Object(c.a)(this,m),(t=f.apply(this,arguments)).UPGRADE_IMAGE="".concat(D.a.ROOT_URL,"/cdn/app/ecommerce_podiums.webp"),t.activeIndex=0,t.vcoConfig={handler:t.onModalClickOutside,events:["click"]},t}return Object(l.a)(m,[{key:"imagesLength",get:function(){return this.images.length}},{key:"currentImage",get:function(){return this.images[this.activeIndex]}},{key:"imageStyleId",get:function(){var t=this;return"AI_STYLIST_IMAGE"===this.previewImagePurpose&&this.aiStyles?this.aiStyles.filter((function(e){return e.url===t.currentImage}))[0].styleId:null}},{key:"activeImageUrl",get:function(){var t,e=this.images[this.activeIndex];return null!==(t=e.url)&&void 0!==t?t:e}},{key:"isVideo",get:function(){return this.images[this.activeIndex].isVideo}},{key:"handleArrowKeyPress",value:function(t){"ArrowLeft"==t.key?this.selectPreviousItem():"ArrowRight"==t.key&&this.selectNextItem()}},{key:"selectPreviousItem",value:function(){this.activeIndex>=1&&(this.activeIndex-=1)}},{key:"selectNextItem",value:function(){this.activeIndex<this.images.length-1&&(this.activeIndex+=1)}},{key:"onModalClickOutside",value:function(){this.$emit("closeModal")}},{key:"toDataURL",value:(v=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{cache:"no-cache"}).then((function(t){return t.blob()}));case 2:return n=t.sent,t.abrupt("return",URL.createObjectURL(n));case 4:case"end":return t.stop()}}),t)}))),function(t){return v.apply(this,arguments)})},{key:"download",value:(h=Object(r.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.images[this.activeIndex]){t.next=2;break}return t.abrupt("return");case 2:return(a=document.createElement("a")).addEventListener("click",(function(t){t.cancelBubble=!0})),t.next=6,this.toDataURL(this.images[this.activeIndex]);case 6:return a.href=t.sent,a.download=this.previewImageTitle?"".concat(this.previewImageTitle,".png"):"download.png",document.body.appendChild(a),a.click(),document.body.removeChild(a),t.next=13,this.populateToMyDownloads();case 13:return t.next=15,this.publishToCommunity();case 15:"AI_STYLIST_IMAGE"==this.previewImagePurpose&&this.$pixcap.$mixpanel.track(this.aiJobId?"M-AI: download":"Download AI Stylist Image",{Source:this.aiJobId?"AI Panel":"My Download"});case 16:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"populateToMyDownloads",value:(o=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.imageStyleId){t.next=3;break}return t.next=3,T.b.populateImageToMyDownloads(this.$store,{width:this.downloadSize.width,height:this.downloadSize.height,isUpscale:!1,isRemoveBackground:!1,imageStyleId:this.imageStyleId});case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"handleDownload",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,o,r,c,l,d,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=h.length>0&&void 0!==h[0]&&h[0])||this.isProOrAbove){t.next=4;break}return R.e.setUpgradeModalState(this.$store,{triggerCase:S.r.USE_PREMIUM_FEATURE,triggerType:S.t.REMOVE_BACKGROUND}),t.abrupt("return");case 4:if(this.isProOrAbove||R.e.setShowAttributionExportModal(this.$store,{isAIDownload:!0}),e){t.next=9;break}this.download(),t.next=22;break;case 9:return r=this.activeImageUrl,c=r.includes("".concat(z)),l=c?z:U,d={presignedUrl:r,imageStyleId:this.imageStyleId,filename:this.previewImageTitle?"".concat(this.previewImageTitle).concat(l):"download".concat(l),isPng:c,transparentBackground:c,isRemoveBackground:!!e||null,width:null===(n=this.downloadSize)||void 0===n?void 0:n.width,height:null===(o=this.downloadSize)||void 0===o?void 0:o.height},t.next=15,T.b.exportAIStyledImageWithTransformation(this.$store,d);case 15:if(!t.sent.error){t.next=19;break}return this.download(),t.abrupt("return");case 19:return t.next=21,this.publishToCommunity();case 21:"AI_STYLIST_IMAGE"==this.previewImagePurpose&&this.$pixcap.$mixpanel.track(this.aiJobId?"Download AI Stylist Image":"M-AI: download",{Source:this.aiJobId?"AI Panel":"My Download","Is Remove Background":e});case 22:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"publishToCommunity",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aiJobId){t.next=3;break}return t.next=3,T.b.publishAISceneToCommunity(this.$store,this.aiJobId);case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"mounted",value:function(){var t=this;this.$nextTick((function(){t.$refs.refImagePreviewModal.focus()}))}},{key:"created",value:function(){this.activeIndex=this.previewImageIndex||0}}]),m}(m.h);Object(f.a)([Object(m.e)()],A.prototype,"images",void 0),Object(f.a)([Object(m.e)()],A.prototype,"modalTitle",void 0),Object(f.a)([Object(m.e)({default:!1})],A.prototype,"showCloseButton",void 0),Object(f.a)([Object(m.e)()],A.prototype,"previewImageIndex",void 0),Object(f.a)([Object(m.e)()],A.prototype,"previewImageTitle",void 0),Object(f.a)([Object(m.e)()],A.prototype,"previewImagePurpose",void 0),Object(f.a)([Object(m.e)()],A.prototype,"aiStyles",void 0),Object(f.a)([Object(m.e)()],A.prototype,"aiJobId",void 0),Object(f.a)([Object(m.e)()],A.prototype,"downloadSize",void 0),A=Object(f.a)([Object(m.a)({name:"ImagePreviewModal",components:{BodyText:j.a,CheckBox:y.a,IconDownloadSimple:_.a,IconClose:w.a,IconLargeArrowRight:C.a,Button:k.a,IconCrown:x.a,CaptionText:M.a,IconCaretRight:I.a,IconUndo:E.a,IconGlobeSimple:P.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(O.b)(S.h,{isProOrAbove:S.d.IS_PRO_OR_ABOVE}))})],A);var N=A,Y=(n(1156),n(8)),component=Object(Y.a)(N,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"refImagePreviewModal",staticClass:"image-preview-modal--container",attrs:{tabindex:"0"},on:{keyup:t.handleArrowKeyPress}},[e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.vcoConfig,expression:"vcoConfig"}],staticClass:"image-preview-modal--content"},[t.modalTitle?e("div",{staticClass:"modal-title"},[t._v("\n\t\t\t"+t._s(t.modalTitle)+"\n\t\t")]):t._e(),t._v(" "),e("div",{staticClass:"image-preview-modal flex justify-center"},[t.showCloseButton?e("button",{staticClass:"close-btn",on:{click:t.onModalClickOutside}},[e("IconClose",{staticClass:"icon-close",attrs:{width:"12",height:"12",fill:"#fff"}})],1):t._e(),t._v(" "),t.activeIndex>0?e("div",{staticClass:"nav-btn left-nav-btn"},[e("button",{staticClass:"move-btn left-btn",on:{click:t.selectPreviousItem}},[e("IconCaretRight",{staticClass:"icon-arrow",attrs:{fill:"#fff"}})],1)]):t._e(),t._v(" "),t.isVideo?e("video",{staticClass:"preview-thumbnail--source",attrs:{autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[e("source",{attrs:{src:t.activeImageUrl,type:"video/mp4"}})]):e("img",{staticClass:"preview-thumbnail--source",attrs:{alt:"",src:t.activeImageUrl}}),t._v(" "),t.activeIndex<t.imagesLength-1?e("div",{staticClass:"nav-btn right-nav-btn"},[e("button",{staticClass:"move-btn right-btn",on:{click:t.selectNextItem}},[e("IconCaretRight",{staticClass:"icon-arrow",attrs:{fill:"#fff"}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"image-preview--slider"},t._l(t.imagesLength,(function(n){return e("span",{key:n,staticClass:"slider-item",class:{active:n-1==t.activeIndex},on:{click:function(e){t.activeIndex=n-1}}})})),0)]),t._v(" "),t.previewImagePurpose?e("div",{staticClass:"image-preview-actions",on:{click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[e("Button",{staticClass:"w-100 image-preview-actions__download",attrs:{"btn-size":"large"},nativeOn:{click:function(e){return t.handleDownload(!1)}}},[e("BodyText",{attrs:{weight:"semibold"}},[t._v(" Download ")])],1),t._v(" "),e("Button",{staticClass:"w-100 image-preview-actions__download",class:{"image-preview-actions__download-pro":!t.isProOrAbove},attrs:{icon:t.isProOrAbove?"Eraser":"CrownSimple","btn-size":"large"},nativeOn:{click:function(e){return t.handleDownload(!0)}}},[e("BodyText",{attrs:{weight:"semibold"}},[t._v(" Remove background & Download ")])],1)],1):t._e(),t._v(" "),e("div",{staticClass:"nav-btn-mobile"},[e("div",{staticClass:"nav-btn left-nav-btn",class:{"nav-btn--disabled":t.activeIndex<t.imagesLength-1}},[e("button",{staticClass:"move-btn left-btn",on:{click:t.selectPreviousItem}},[e("IconCaretRight",{staticClass:"icon-arrow",attrs:{fill:"#fff"}})],1)]),t._v(" "),e("div",{staticClass:"nav-btn right-nav-btn",class:{"nav-btn--disabled":t.activeIndex>0}},[e("button",{staticClass:"move-btn right-btn",on:{click:t.selectNextItem}},[e("IconCaretRight",{staticClass:"icon-arrow",attrs:{fill:"#fff"}})],1)])])])])}),[],!1,null,"6276391e",null);e.a=component.exports},831:function(t,e,n){"use strict";n(14),n(13);var o=n(3),r=n(4),c=n(5),l=n(6),d=n(2),h=n(1),v=n(0),f=n(39);function m(t){var e=O();return function(){var n,o=Object(d.a)(t);if(e){var s=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}var y=function(t){Object(c.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n)}(v.h),_=y=Object(h.a)([Object(v.a)({name:"NewBadge",components:{CaptionText:f.a}})],y),j=(n(1042),n(8)),component=Object(j.a)(_,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"new-badge flex align-center justify-center"},[e("CaptionText",{attrs:{size:"large",weight:"semibold"}},[t._v(t._s(t.$t?t.$t("common_elements.new"):"New"))])],1)}),[],!1,null,"7f2a49ca",null);e.a=component.exports},834:function(t,e,n){"use strict";n(14),n(13),n(26),n(23),n(28),n(29),n(25),n(30);var o=n(9),r=n(4),c=n(3),l=n(5),d=n(6),h=n(2),v=n(1),f=n(0),m=n(70);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){var e=_();return function(){var n,o=Object(h.a)(t);if(e){var s=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}var j=function(t){Object(l.a)(n,t);var e=y(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).enableDrag=!1,t.dragStartPositionX=0,t.dragStartPositionY=0,t.windowDimension={width:window.innerWidth,height:window.innerHeight},t}return Object(c.a)(n,[{key:"modalContentStyle",get:function(){var t=95;return this.withFooter||(t-=55),this.withoutHeader&&(t-=40),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({height:"calc(100% - ".concat(t,"px)")},this.contentStyle)}},{key:"modalContainerStyle",get:function(){var t=this.windowDimension,e=t.width,n=t.height,o=this.width||400,r=this.height||400,c={width:"".concat(o,"px"),height:"".concat(r,"px")};if(this.isDraggable||null!=this.initLeft||null!=this.initTop){var l=this.initLeft||(e-o)/2,d=this.initTop||(n-r)/2;c.left="".concat(l,"px"),c.top="".concat(d,"px")}return c}},{key:"handleMouseDown",value:function(t){this.isDraggable&&(this.dragStartPositionX=this.$refs["modal-container"].offsetLeft-t.pageX,this.dragStartPositionY=this.$refs["modal-container"].offsetTop-t.pageY,this.toggleDragStatus({drag:!0}))}},{key:"handleMouseMove",value:function(t){if(this.isDraggable&&this.enableDrag){var e=t.pageX+this.dragStartPositionX,n=t.pageY+this.dragStartPositionY;this.$emit("updatePosition",{left:e,top:n})}}},{key:"handleMouseUp",value:function(){this.isDraggable&&this.enableDrag&&(this.toggleDragStatus({drag:!1}),this.dragStartPositionX=0,this.dragStartPositionY=0)}},{key:"toggleDragStatus",value:function(t){this.enableDrag=t.drag;var e=t.drag?"grabbing":"default";this.$root.$el.style.cursor=e,this.toggleEventListeners({add:t.drag})}},{key:"toggleEventListeners",value:function(t){t.add?(this.mouseMoveEventObject=this.handleMouseMove.bind(this),this.mouseUpEventObject=this.handleMouseUp.bind(this),window.addEventListener("mousemove",this.mouseMoveEventObject),window.addEventListener("mouseup",this.mouseUpEventObject)):(window.removeEventListener("mousemove",this.mouseMoveEventObject),window.removeEventListener("mouseup",this.mouseUpEventObject),this.mouseMoveEventObject=void 0,this.mouseUpEventObject=void 0)}},{key:"updateWindowDimension",value:function(){this.isDraggable&&(this.windowDimension={width:window.innerWidth,height:window.innerHeight})}},{key:"handleControleKeys",value:function(t){"Escape"===t.key&&(t.preventDefault(),t.stopPropagation(),this.$emit("handleCloseModal",t)),this.disableTabKey&&"Tab"===t.key&&(t.preventDefault(),t.stopPropagation())}},{key:"mounted",value:function(){this.resizeEventObject=this.updateWindowDimension.bind(this),window.addEventListener("resize",this.resizeEventObject),document.addEventListener("keydown",this.handleControleKeys)}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.resizeEventObject),document.removeEventListener("keydown",this.handleControleKeys),this.resizeEventObject=void 0}}]),n}(f.h);Object(v.a)([Object(f.e)()],j.prototype,"width",void 0),Object(v.a)([Object(f.e)()],j.prototype,"height",void 0),Object(v.a)([Object(f.e)()],j.prototype,"initLeft",void 0),Object(v.a)([Object(f.e)()],j.prototype,"initTop",void 0),Object(v.a)([Object(f.e)()],j.prototype,"title",void 0),Object(v.a)([Object(f.e)()],j.prototype,"withFooter",void 0),Object(v.a)([Object(f.e)({default:!0})],j.prototype,"disableTabKey",void 0),Object(v.a)([Object(f.e)()],j.prototype,"withoutHeader",void 0),Object(v.a)([Object(f.e)()],j.prototype,"withCloseButton",void 0),Object(v.a)([Object(f.e)()],j.prototype,"contentStyle",void 0),Object(v.a)([Object(f.e)()],j.prototype,"propsToBind",void 0),Object(v.a)([Object(f.e)()],j.prototype,"isDraggable",void 0);var w=j=Object(v.a)([Object(f.a)({name:"NewModal",components:{IconClose:m.a}})],j),C=(n(1106),n(8)),component=Object(C.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"backdrop",class:{"modal-backdrop":!t.isDraggable},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.$emit("handleCloseModal",e)}}},[e("div",t._b({ref:"modal-container",staticClass:"modal-container",style:t.modalContainerStyle},"div",t.propsToBind,!1),[e("div",{staticClass:"modal-main--content"},[t.withoutHeader?t._e():e("div",{staticClass:"modal-header",class:{"modal-header--draggable":t.isDraggable},on:{mousedown:t.handleMouseDown}},[t.title?e("span",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.withCloseButton?e("a",{staticClass:"modal-header__close",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$emit("handleCloseModal")}}},[e("IconClose",{attrs:{width:11}})],1):t._e()]),t._v(" "),e("div",{staticClass:"modal-content pixcap_scroll",style:t.modalContentStyle},[t._t("content")],2),t._v(" "),t.withFooter?e("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()]),t._v(" "),t._t("default")],2)])}),[],!1,null,"4d99aff6",null);e.a=component.exports},840:function(t,e,n){"use strict";n(14),n(13),n(26),n(23),n(28),n(29),n(25),n(30);var o=n(9),r=n(4),c=n(3),l=n(5),d=n(6),h=n(2),v=n(1),f=n(0),m=n(848),O=n(849),y=n(726),_=n(181);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t){var e=x();return function(){var n,o=Object(h.a)(t);if(e){var s=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}var k=function(t){Object(l.a)(n,t);var e=C(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).HORIZONTAL_EDGE_HANDLERS=_.c,t.VERTICAL_EDGE_HANDLERS=_.d,t.CORNER_HANDLERS=_.a,t.imageToCrop=null,t._onMoveMouseMove=null,t._onMoveMouseUp=null,t._moveContext=null,t._handleResizeMouseMove=null,t._handleResizeMouseUp=null,t._resizeContext=null,t._handleKeyPress=null,t}return Object(c.a)(n,[{key:"onImageCropInfoChange",value:function(){this.initImageToCrop()}},{key:"boardScale",get:function(){return this.imageRenderBox.width/this.imageBox.width}},{key:"backgroundCropBoxStyle",get:function(){var t=this.boardScale;return{width:"".concat(this.imageToCrop.cropBox.w*t,"px"),height:"".concat(this.imageToCrop.cropBox.h*t,"px"),left:"".concat(this.imageToCrop.cropBox.x*t,"px"),top:"".concat(this.imageToCrop.cropBox.y*t,"px")}}},{key:"onMoveMouseDown",value:function(t){t instanceof MouseEvent?(this._moveContext.initialX=t.clientX,this._moveContext.initialY=t.clientY):t instanceof TouchEvent&&(this._moveContext.initialX=t.touches[0].clientX,this._moveContext.initialY=t.touches[0].clientY),this._moveContext.initialClientX=this.imageToCrop.cropBox.x,this._moveContext.initialClientY=this.imageToCrop.cropBox.y,document.addEventListener("mousemove",this._onMoveMouseMove),document.addEventListener("touchmove",this._onMoveMouseMove),document.addEventListener("mouseup",this._onMoveMouseUp),document.addEventListener("touchend",this._onMoveMouseUp)}},{key:"onMoveMouseMove",value:function(t){var e,n;this._moveContext.isMoving||(this._moveContext.isMoving=!0),t instanceof MouseEvent?(e=t.clientX,n=t.clientY):t instanceof TouchEvent&&(e=t.touches[0].clientX,n=t.touches[0].clientY);var o=e-this._moveContext.initialX,r=n-this._moveContext.initialY,c=this._moveContext.initialClientX+o/this.boardScale,l=this._moveContext.initialClientY+r/this.boardScale;t.shiftKey&&(c=Math.min(c,0),l=Math.min(l,0),c=Math.max(c,-this.imageToCrop.cropBox.w+this.imageBox.width),l=Math.max(l,-this.imageToCrop.cropBox.h+this.imageBox.height)),this._updateImageToCrop(this.imageToCrop.cropBox,"x",c),this._updateImageToCrop(this.imageToCrop.cropBox,"y",l)}},{key:"onMoveMouseUp",value:function(t){this._moveContext.isMoving=!1,this.startX=null,this.startY=null,document.removeEventListener("mousemove",this._onMoveMouseMove),document.removeEventListener("touchmove",this._onMoveMouseMove),document.removeEventListener("mouseup",this._onMoveMouseUp),document.removeEventListener("touchend",this._onMoveMouseUp)}},{key:"handleResize",value:function(t,e){this._resizeContext={aspectRatio:this.imageToCrop.cropBox.w/this.imageToCrop.cropBox.h,direction:e},t instanceof TouchEvent&&(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY),document.addEventListener("mousemove",this._handleResizeMouseMove),document.addEventListener("touchmove",this._handleResizeMouseMove),document.addEventListener("mouseup",this._handleResizeMouseUp),document.addEventListener("touchend",this._handleResizeMouseUp)}},{key:"handleResizeMouseMove",value:function(t){var e,n;if(this._resizeContext.isResizing&&(this._resizeContext.isResizing=!0),t instanceof MouseEvent)e=t.movementX,n=t.movementY;else if(t instanceof TouchEvent){var o=t.touches[0];this.startX&&this.startY&&(e=o.clientX-this.startX,n=o.clientY-this.startY),this.startX=o.clientX,this.startY=o.clientY}console.log(e,n);var r=e,c=n,l=this.boardScale,d=Object(y.a)({width:this.imageToCrop.cropBox.w*l,height:this.imageToCrop.cropBox.h*l,left:this.imageToCrop.cropBox.x*l,top:this.imageToCrop.cropBox.y*l},this._resizeContext.direction,this._resizeContext.aspectRatio,r,c);this._updateImageToCrop(this.imageToCrop,"cropBox",{h:d.height/l,w:d.width/l,x:d.left/l||this.imageToCrop.cropBox.x,y:d.top/l||this.imageToCrop.cropBox.y})}},{key:"handleResizeMouseUp",value:function(t){t.preventDefault(),t.stopPropagation(),this._resizeContext.isResizing=!1,document.removeEventListener("mousemove",this._handleResizeMouseMove),document.removeEventListener("touchmove",this._handleResizeMouseMove),document.removeEventListener("mouseup",this._handleResizeMouseUp),document.removeEventListener("touchend",this._handleResizeMouseUp)}},{key:"handleScaleCropbox",value:function(t){}},{key:"handleExitCropMode",value:function(){this.$emit("onCropImageFinish",{url:this.imageToCrop.url,cropBox:w({},this.imageToCrop.cropBox)})}},{key:"handleKeyPress",value:function(t){"Escape"===t.key&&this.handleExitCropMode()}},{key:"_updateImageToCrop",value:function(object,t,e){this.$set(object,t,e),this.$emit("onChange",this.imageToCrop)}},{key:"initImageToCrop",value:function(){this.imageToCrop={url:this.imageUrl,cropBox:w({},this.imageCropBox)}}},{key:"created",value:function(){this._onMoveMouseMove=this.onMoveMouseMove.bind(this),this._onMoveMouseUp=this.onMoveMouseUp.bind(this),this._handleResizeMouseMove=this.handleResizeMouseMove.bind(this),this._handleResizeMouseUp=this.handleResizeMouseUp.bind(this),this._handleKeyPress=this.handleKeyPress.bind(this),this._moveContext={isMoving:!1,initialX:null,initialY:null},this._resizeContext={},this.initImageToCrop()}},{key:"mounted",value:function(){document.addEventListener("keydown",this._handleKeyPress)}},{key:"beforeDestroy",value:function(){document.removeEventListener("keydown",this._handleKeyPress)}}]),n}(f.h);Object(v.a)([Object(f.e)()],k.prototype,"imageBox",void 0),Object(v.a)([Object(f.e)()],k.prototype,"imageUrl",void 0),Object(v.a)([Object(f.e)()],k.prototype,"imageCropBox",void 0),Object(v.a)([Object(f.e)()],k.prototype,"imageRenderBox",void 0),Object(v.a)([Object(f.i)("imageCropBox"),Object(f.i)("imageUrl")],k.prototype,"onImageCropInfoChange",null);var M=k=Object(v.a)([Object(f.a)({name:"Cropper",components:{ResizeHandler:O.a,CornerResizeHandler:m.a}})],k),I=(n(1140),n(8)),component=Object(I.a)(M,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"absolute top-0 left-0 w-100 h-100"},[e("div",{staticClass:"absolute overflow-hidden w-100 h-100"},[e("div",{staticClass:"absolute",style:t.backgroundCropBoxStyle},[e("img",{staticClass:"w-100 h-100",attrs:{src:t.imageToCrop.url,alt:""}})])]),t._v(" "),e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{handler:t.handleExitCropMode,events:["mousedown"]},expression:"{ handler: handleExitCropMode, events: ['mousedown'] }"}],staticClass:"cropper-container",style:t.backgroundCropBoxStyle},[e("div",{staticClass:"absolute top-0 left-0 right-0 bottom-0 image-container pointer-none"},[e("img",{staticClass:"w-100 h-100",attrs:{src:t.imageToCrop.url,alt:""}})]),t._v(" "),e("div",{staticClass:"cropper-move-container cursor-move absolute top-0 left-0 right-0 bottom-0",on:{wheel:t.handleScaleCropbox,mousedown:t.onMoveMouseDown,touchstart:t.onMoveMouseDown}}),t._v(" "),e("div",[t._l(t.HORIZONTAL_EDGE_HANDLERS,(function(n){return e("div",{key:n.direction,staticClass:"resize-control control-handler",class:[n.direction]},[e("ResizeHandler",{staticClass:"horizontal",attrs:{handler:n},on:{onResizeStart:t.handleResize}})],1)})),t._v(" "),t._l(t.VERTICAL_EDGE_HANDLERS,(function(n){return e("div",{key:n.direction,staticClass:"resize-control control-handler",class:[n.direction]},[e("ResizeHandler",{staticClass:"vertical",attrs:{handler:n},on:{onResizeStart:t.handleResize}})],1)})),t._v(" "),t._l(t.CORNER_HANDLERS,(function(n){return e("div",{key:n.direction,staticClass:"control-handler",class:[n.direction]},[e("CornerResizeHandler",{attrs:{handler:n},on:{onResizeStart:t.handleResize}})],1)}))],2)])])}),[],!1,null,"25f8a8d4",null);e.a=component.exports}}]);
//# sourceMappingURL=m2w9t2nt.ee3e7d1c.js.map